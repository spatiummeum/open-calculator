38a731b24dadf9d026ac23af243376b9
"use strict";

/**
 * TESTS DE CÁLCULOS DE DESCUENTOS
 * Pruebas para verificar la lógica de cálculo de descuentos con IVA
 */

describe('Cálculos de Descuentos con IVA', () => {
  const IVA_RATE = 0.19; // 19% IVA chileno

  describe('Cálculo de Valor Base', () => {
    test('Debe calcular valor completo cuando isHalf = false', () => {
      const testCases = [{
        value: 1000,
        isHalf: false,
        expected: 1000
      }, {
        value: 2500.50,
        isHalf: false,
        expected: 2500.50
      }, {
        value: 10000,
        isHalf: false,
        expected: 10000
      }];
      testCases.forEach(({
        value,
        isHalf,
        expected
      }) => {
        const baseValue = isHalf ? value / 2 : value;
        expect(baseValue).toBe(expected);
      });
    });
    test('Debe calcular valor mitad cuando isHalf = true (unidades)', () => {
      const testCases = [{
        value: 1000,
        isHalf: true,
        expected: 500
      }, {
        value: 2500.50,
        isHalf: true,
        expected: 1250.25
      }, {
        value: 10000,
        isHalf: true,
        expected: 5000
      }];
      testCases.forEach(({
        value,
        isHalf,
        expected
      }) => {
        const baseValue = isHalf ? value / 2 : value;
        expect(baseValue).toBe(expected);
      });
    });
  });
  describe('Cálculo de IVA', () => {
    test('Debe aplicar IVA del 19% correctamente', () => {
      const testCases = [{
        baseValue: 1000,
        expected: 1190
      }, {
        baseValue: 2500,
        expected: 2975
      }, {
        baseValue: 10000,
        expected: 11900
      }];
      testCases.forEach(({
        baseValue,
        expected
      }) => {
        const valueWithIva = baseValue * (1 + IVA_RATE);
        expect(valueWithIva).toBe(expected);
      });
    });
    test('Debe manejar decimales en cálculo de IVA', () => {
      const testCases = [{
        baseValue: 1000.50,
        expected: 1190.595
      }, {
        baseValue: 2500.25,
        expected: 2975.2975
      }, {
        baseValue: 999.99,
        expected: 1189.9881
      }];
      testCases.forEach(({
        baseValue,
        expected
      }) => {
        const valueWithIva = baseValue * (1 + IVA_RATE);
        expect(valueWithIva).toBeCloseTo(expected, 4);
      });
    });
  });
  describe('Cálculo de Descuento Total', () => {
    test('Debe calcular descuento para un solo producto', () => {
      const product = {
        value: 1000,
        isHalf: false
      };
      const baseValue = product.isHalf ? product.value / 2 : product.value;
      const valueWithIva = baseValue * (1 + IVA_RATE);
      expect(valueWithIva).toBe(1190);
    });
    test('Debe calcular descuento para múltiples productos', () => {
      const products = [{
        value: 1000,
        isHalf: false
      },
      // 1000 * 1.19 = 1190
      {
        value: 2000,
        isHalf: true
      },
      // 1000 * 1.19 = 1190
      {
        value: 3000,
        isHalf: false
      } // 3000 * 1.19 = 3570
      ];
      let totalDiscount = 0;
      products.forEach(product => {
        const baseValue = product.isHalf ? product.value / 2 : product.value;
        const valueWithIva = baseValue * (1 + IVA_RATE);
        totalDiscount += valueWithIva;
      });
      expect(totalDiscount).toBe(5950); // 1190 + 1190 + 3570
    });
  });
  describe('Cálculo de Nuevo Total de Factura', () => {
    test('Debe calcular nuevo total después del descuento', () => {
      const originalTotal = 100000;
      const discountAmount = 5950;
      const newTotal = originalTotal - discountAmount;
      expect(newTotal).toBe(94050);
    });
    test('Debe manejar casos donde el descuento es mayor que el total', () => {
      const originalTotal = 1000;
      const discountAmount = 1500;
      const newTotal = originalTotal - discountAmount;
      expect(newTotal).toBe(-500);
      expect(newTotal < 0).toBe(true);
    });
  });
  describe('Casos de Prueba Específicos del Negocio', () => {
    test('Escenario típico: Factura de $100.000 con productos mixtos', () => {
      const invoiceTotal = 100000;
      const products = [{
        value: 5000,
        isHalf: false
      },
      // Producto completo
      {
        value: 8000,
        isHalf: true
      },
      // Unidades (mitad)
      {
        value: 3000,
        isHalf: false
      } // Producto completo
      ];
      let totalDiscount = 0;
      products.forEach(product => {
        const baseValue = product.isHalf ? product.value / 2 : product.value;
        const valueWithIva = baseValue * (1 + IVA_RATE);
        totalDiscount += valueWithIva;
      });
      const newTotal = invoiceTotal - totalDiscount;

      // Verificar cálculos paso a paso
      expect(totalDiscount).toBeCloseTo(14161, 2); // 5950 + 4760 + 3570
      expect(newTotal).toBeCloseTo(85839, 2);
    });
    test('Escenario edge case: Producto muy pequeño', () => {
      const product = {
        value: 1,
        isHalf: false
      };
      const baseValue = product.isHalf ? product.value / 2 : product.value;
      const valueWithIva = baseValue * (1 + IVA_RATE);
      expect(valueWithIva).toBe(1.19);
    });
    test('Escenario edge case: Producto con unidades muy pequeño', () => {
      const product = {
        value: 2,
        isHalf: true
      };
      const baseValue = product.isHalf ? product.value / 2 : product.value;
      const valueWithIva = baseValue * (1 + IVA_RATE);
      expect(valueWithIva).toBe(1.19);
    });
  });
  describe('Precisión de Cálculos Flotantes', () => {
    test('Debe manejar correctamente números flotantes', () => {
      const testCases = [{
        value: 1000.33,
        isHalf: false
      }, {
        value: 2500.67,
        isHalf: true
      }, {
        value: 999.99,
        isHalf: false
      }];
      testCases.forEach(({
        value,
        isHalf
      }) => {
        const baseValue = isHalf ? value / 2 : value;
        const valueWithIva = baseValue * (1 + IVA_RATE);

        // Verificar que el resultado es un número válido
        expect(typeof valueWithIva).toBe('number');
        expect(isNaN(valueWithIva)).toBe(false);
        expect(isFinite(valueWithIva)).toBe(true);
      });
    });
    test('Debe mantener precisión adecuada para moneda', () => {
      const product = {
        value: 1000.33,
        isHalf: false
      };
      const baseValue = product.isHalf ? product.value / 2 : product.value;
      const valueWithIva = baseValue * (1 + IVA_RATE);

      // Verificar que mantiene precisión suficiente
      expect(valueWithIva).toBeCloseTo(1190.3927, 4);
    });
  });
  describe('Validación de Resultados', () => {
    test('Los descuentos nunca deben ser negativos', () => {
      const products = [{
        value: 1000,
        isHalf: false
      }, {
        value: 2000,
        isHalf: true
      }, {
        value: 5000,
        isHalf: false
      }];
      products.forEach(product => {
        const baseValue = product.isHalf ? product.value / 2 : product.value;
        const valueWithIva = baseValue * (1 + IVA_RATE);
        expect(valueWithIva).toBeGreaterThan(0);
      });
    });
    test('El descuento con IVA debe ser mayor que el valor base', () => {
      const products = [{
        value: 1000,
        isHalf: false
      }, {
        value: 2000,
        isHalf: true
      }];
      products.forEach(product => {
        const baseValue = product.isHalf ? product.value / 2 : product.value;
        const valueWithIva = baseValue * (1 + IVA_RATE);
        expect(valueWithIva).toBeGreaterThan(baseValue);
      });
    });
  });
});
describe('Casos de Prueba de Integración Completa', () => {
  test('Flujo completo: Desde entrada hasta resultado final', () => {
    // Datos de entrada
    const invoiceTotal = 50000;
    const products = [{
      value: 2000,
      isHalf: false
    }, {
      value: 3000,
      isHalf: true
    }, {
      value: 1000,
      isHalf: false
    }];

    // Cálculo paso a paso
    let totalDiscount = 0;
    const IVA_RATE = 0.19;
    products.forEach(product => {
      const baseValue = product.isHalf ? product.value / 2 : product.value;
      const valueWithIva = baseValue * (1 + IVA_RATE);
      totalDiscount += valueWithIva;
    });
    const newTotal = invoiceTotal - totalDiscount;

    // Verificaciones
    expect(totalDiscount).toBeGreaterThan(0);
    expect(newTotal).toBeLessThan(invoiceTotal);
    expect(typeof newTotal).toBe('number');
    expect(isFinite(newTotal)).toBe(true);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkZXNjcmliZSIsIklWQV9SQVRFIiwidGVzdCIsInRlc3RDYXNlcyIsInZhbHVlIiwiaXNIYWxmIiwiZXhwZWN0ZWQiLCJmb3JFYWNoIiwiYmFzZVZhbHVlIiwiZXhwZWN0IiwidG9CZSIsInZhbHVlV2l0aEl2YSIsInRvQmVDbG9zZVRvIiwicHJvZHVjdCIsInByb2R1Y3RzIiwidG90YWxEaXNjb3VudCIsIm9yaWdpbmFsVG90YWwiLCJkaXNjb3VudEFtb3VudCIsIm5ld1RvdGFsIiwiaW52b2ljZVRvdGFsIiwiaXNOYU4iLCJpc0Zpbml0ZSIsInRvQmVHcmVhdGVyVGhhbiIsInRvQmVMZXNzVGhhbiJdLCJzb3VyY2VzIjpbImNhbGN1bGF0aW9ucy50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVEVTVFMgREUgQ8OBTENVTE9TIERFIERFU0NVRU5UT1NcbiAqIFBydWViYXMgcGFyYSB2ZXJpZmljYXIgbGEgbMOzZ2ljYSBkZSBjw6FsY3VsbyBkZSBkZXNjdWVudG9zIGNvbiBJVkFcbiAqL1xuXG5kZXNjcmliZSgnQ8OhbGN1bG9zIGRlIERlc2N1ZW50b3MgY29uIElWQScsICgpID0+IHtcbiAgXG4gIGNvbnN0IElWQV9SQVRFID0gMC4xOTsgLy8gMTklIElWQSBjaGlsZW5vXG4gIFxuICBkZXNjcmliZSgnQ8OhbGN1bG8gZGUgVmFsb3IgQmFzZScsICgpID0+IHtcbiAgICBcbiAgICB0ZXN0KCdEZWJlIGNhbGN1bGFyIHZhbG9yIGNvbXBsZXRvIGN1YW5kbyBpc0hhbGYgPSBmYWxzZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHRlc3RDYXNlcyA9IFtcbiAgICAgICAgeyB2YWx1ZTogMTAwMCwgaXNIYWxmOiBmYWxzZSwgZXhwZWN0ZWQ6IDEwMDAgfSxcbiAgICAgICAgeyB2YWx1ZTogMjUwMC41MCwgaXNIYWxmOiBmYWxzZSwgZXhwZWN0ZWQ6IDI1MDAuNTAgfSxcbiAgICAgICAgeyB2YWx1ZTogMTAwMDAsIGlzSGFsZjogZmFsc2UsIGV4cGVjdGVkOiAxMDAwMCB9XG4gICAgICBdO1xuICAgICAgXG4gICAgICB0ZXN0Q2FzZXMuZm9yRWFjaCgoeyB2YWx1ZSwgaXNIYWxmLCBleHBlY3RlZCB9KSA9PiB7XG4gICAgICAgIGNvbnN0IGJhc2VWYWx1ZSA9IGlzSGFsZiA/IHZhbHVlIC8gMiA6IHZhbHVlO1xuICAgICAgICBleHBlY3QoYmFzZVZhbHVlKS50b0JlKGV4cGVjdGVkKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIFxuICAgIHRlc3QoJ0RlYmUgY2FsY3VsYXIgdmFsb3IgbWl0YWQgY3VhbmRvIGlzSGFsZiA9IHRydWUgKHVuaWRhZGVzKScsICgpID0+IHtcbiAgICAgIGNvbnN0IHRlc3RDYXNlcyA9IFtcbiAgICAgICAgeyB2YWx1ZTogMTAwMCwgaXNIYWxmOiB0cnVlLCBleHBlY3RlZDogNTAwIH0sXG4gICAgICAgIHsgdmFsdWU6IDI1MDAuNTAsIGlzSGFsZjogdHJ1ZSwgZXhwZWN0ZWQ6IDEyNTAuMjUgfSxcbiAgICAgICAgeyB2YWx1ZTogMTAwMDAsIGlzSGFsZjogdHJ1ZSwgZXhwZWN0ZWQ6IDUwMDAgfVxuICAgICAgXTtcbiAgICAgIFxuICAgICAgdGVzdENhc2VzLmZvckVhY2goKHsgdmFsdWUsIGlzSGFsZiwgZXhwZWN0ZWQgfSkgPT4ge1xuICAgICAgICBjb25zdCBiYXNlVmFsdWUgPSBpc0hhbGYgPyB2YWx1ZSAvIDIgOiB2YWx1ZTtcbiAgICAgICAgZXhwZWN0KGJhc2VWYWx1ZSkudG9CZShleHBlY3RlZCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIFxuICBkZXNjcmliZSgnQ8OhbGN1bG8gZGUgSVZBJywgKCkgPT4ge1xuICAgIFxuICAgIHRlc3QoJ0RlYmUgYXBsaWNhciBJVkEgZGVsIDE5JSBjb3JyZWN0YW1lbnRlJywgKCkgPT4ge1xuICAgICAgY29uc3QgdGVzdENhc2VzID0gW1xuICAgICAgICB7IGJhc2VWYWx1ZTogMTAwMCwgZXhwZWN0ZWQ6IDExOTAgfSxcbiAgICAgICAgeyBiYXNlVmFsdWU6IDI1MDAsIGV4cGVjdGVkOiAyOTc1IH0sXG4gICAgICAgIHsgYmFzZVZhbHVlOiAxMDAwMCwgZXhwZWN0ZWQ6IDExOTAwIH1cbiAgICAgIF07XG4gICAgICBcbiAgICAgIHRlc3RDYXNlcy5mb3JFYWNoKCh7IGJhc2VWYWx1ZSwgZXhwZWN0ZWQgfSkgPT4ge1xuICAgICAgICBjb25zdCB2YWx1ZVdpdGhJdmEgPSBiYXNlVmFsdWUgKiAoMSArIElWQV9SQVRFKTtcbiAgICAgICAgZXhwZWN0KHZhbHVlV2l0aEl2YSkudG9CZShleHBlY3RlZCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBcbiAgICB0ZXN0KCdEZWJlIG1hbmVqYXIgZGVjaW1hbGVzIGVuIGPDoWxjdWxvIGRlIElWQScsICgpID0+IHtcbiAgICAgIGNvbnN0IHRlc3RDYXNlcyA9IFtcbiAgICAgICAgeyBiYXNlVmFsdWU6IDEwMDAuNTAsIGV4cGVjdGVkOiAxMTkwLjU5NSB9LFxuICAgICAgICB7IGJhc2VWYWx1ZTogMjUwMC4yNSwgZXhwZWN0ZWQ6IDI5NzUuMjk3NSB9LFxuICAgICAgICB7IGJhc2VWYWx1ZTogOTk5Ljk5LCBleHBlY3RlZDogMTE4OS45ODgxIH1cbiAgICAgIF07XG4gICAgICBcbiAgICAgIHRlc3RDYXNlcy5mb3JFYWNoKCh7IGJhc2VWYWx1ZSwgZXhwZWN0ZWQgfSkgPT4ge1xuICAgICAgICBjb25zdCB2YWx1ZVdpdGhJdmEgPSBiYXNlVmFsdWUgKiAoMSArIElWQV9SQVRFKTtcbiAgICAgICAgZXhwZWN0KHZhbHVlV2l0aEl2YSkudG9CZUNsb3NlVG8oZXhwZWN0ZWQsIDQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuICBcbiAgZGVzY3JpYmUoJ0PDoWxjdWxvIGRlIERlc2N1ZW50byBUb3RhbCcsICgpID0+IHtcbiAgICBcbiAgICB0ZXN0KCdEZWJlIGNhbGN1bGFyIGRlc2N1ZW50byBwYXJhIHVuIHNvbG8gcHJvZHVjdG8nLCAoKSA9PiB7XG4gICAgICBjb25zdCBwcm9kdWN0ID0geyB2YWx1ZTogMTAwMCwgaXNIYWxmOiBmYWxzZSB9O1xuICAgICAgY29uc3QgYmFzZVZhbHVlID0gcHJvZHVjdC5pc0hhbGYgPyBwcm9kdWN0LnZhbHVlIC8gMiA6IHByb2R1Y3QudmFsdWU7XG4gICAgICBjb25zdCB2YWx1ZVdpdGhJdmEgPSBiYXNlVmFsdWUgKiAoMSArIElWQV9SQVRFKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHZhbHVlV2l0aEl2YSkudG9CZSgxMTkwKTtcbiAgICB9KTtcbiAgICBcbiAgICB0ZXN0KCdEZWJlIGNhbGN1bGFyIGRlc2N1ZW50byBwYXJhIG3Dumx0aXBsZXMgcHJvZHVjdG9zJywgKCkgPT4ge1xuICAgICAgY29uc3QgcHJvZHVjdHMgPSBbXG4gICAgICAgIHsgdmFsdWU6IDEwMDAsIGlzSGFsZjogZmFsc2UgfSwgLy8gMTAwMCAqIDEuMTkgPSAxMTkwXG4gICAgICAgIHsgdmFsdWU6IDIwMDAsIGlzSGFsZjogdHJ1ZSB9LCAgLy8gMTAwMCAqIDEuMTkgPSAxMTkwXG4gICAgICAgIHsgdmFsdWU6IDMwMDAsIGlzSGFsZjogZmFsc2UgfSAgLy8gMzAwMCAqIDEuMTkgPSAzNTcwXG4gICAgICBdO1xuICAgICAgXG4gICAgICBsZXQgdG90YWxEaXNjb3VudCA9IDA7XG4gICAgICBwcm9kdWN0cy5mb3JFYWNoKHByb2R1Y3QgPT4ge1xuICAgICAgICBjb25zdCBiYXNlVmFsdWUgPSBwcm9kdWN0LmlzSGFsZiA/IHByb2R1Y3QudmFsdWUgLyAyIDogcHJvZHVjdC52YWx1ZTtcbiAgICAgICAgY29uc3QgdmFsdWVXaXRoSXZhID0gYmFzZVZhbHVlICogKDEgKyBJVkFfUkFURSk7XG4gICAgICAgIHRvdGFsRGlzY291bnQgKz0gdmFsdWVXaXRoSXZhO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGV4cGVjdCh0b3RhbERpc2NvdW50KS50b0JlKDU5NTApOyAvLyAxMTkwICsgMTE5MCArIDM1NzBcbiAgICB9KTtcbiAgfSk7XG4gIFxuICBkZXNjcmliZSgnQ8OhbGN1bG8gZGUgTnVldm8gVG90YWwgZGUgRmFjdHVyYScsICgpID0+IHtcbiAgICBcbiAgICB0ZXN0KCdEZWJlIGNhbGN1bGFyIG51ZXZvIHRvdGFsIGRlc3B1w6lzIGRlbCBkZXNjdWVudG8nLCAoKSA9PiB7XG4gICAgICBjb25zdCBvcmlnaW5hbFRvdGFsID0gMTAwMDAwO1xuICAgICAgY29uc3QgZGlzY291bnRBbW91bnQgPSA1OTUwO1xuICAgICAgY29uc3QgbmV3VG90YWwgPSBvcmlnaW5hbFRvdGFsIC0gZGlzY291bnRBbW91bnQ7XG4gICAgICBcbiAgICAgIGV4cGVjdChuZXdUb3RhbCkudG9CZSg5NDA1MCk7XG4gICAgfSk7XG4gICAgXG4gICAgdGVzdCgnRGViZSBtYW5lamFyIGNhc29zIGRvbmRlIGVsIGRlc2N1ZW50byBlcyBtYXlvciBxdWUgZWwgdG90YWwnLCAoKSA9PiB7XG4gICAgICBjb25zdCBvcmlnaW5hbFRvdGFsID0gMTAwMDtcbiAgICAgIGNvbnN0IGRpc2NvdW50QW1vdW50ID0gMTUwMDtcbiAgICAgIGNvbnN0IG5ld1RvdGFsID0gb3JpZ2luYWxUb3RhbCAtIGRpc2NvdW50QW1vdW50O1xuICAgICAgXG4gICAgICBleHBlY3QobmV3VG90YWwpLnRvQmUoLTUwMCk7XG4gICAgICBleHBlY3QobmV3VG90YWwgPCAwKS50b0JlKHRydWUpO1xuICAgIH0pO1xuICB9KTtcbiAgXG4gIGRlc2NyaWJlKCdDYXNvcyBkZSBQcnVlYmEgRXNwZWPDrWZpY29zIGRlbCBOZWdvY2lvJywgKCkgPT4ge1xuICAgIFxuICAgIHRlc3QoJ0VzY2VuYXJpbyB0w61waWNvOiBGYWN0dXJhIGRlICQxMDAuMDAwIGNvbiBwcm9kdWN0b3MgbWl4dG9zJywgKCkgPT4ge1xuICAgICAgY29uc3QgaW52b2ljZVRvdGFsID0gMTAwMDAwO1xuICAgICAgY29uc3QgcHJvZHVjdHMgPSBbXG4gICAgICAgIHsgdmFsdWU6IDUwMDAsIGlzSGFsZjogZmFsc2UgfSwgICAvLyBQcm9kdWN0byBjb21wbGV0b1xuICAgICAgICB7IHZhbHVlOiA4MDAwLCBpc0hhbGY6IHRydWUgfSwgICAgLy8gVW5pZGFkZXMgKG1pdGFkKVxuICAgICAgICB7IHZhbHVlOiAzMDAwLCBpc0hhbGY6IGZhbHNlIH0gICAgLy8gUHJvZHVjdG8gY29tcGxldG9cbiAgICAgIF07XG4gICAgICBcbiAgICAgIGxldCB0b3RhbERpc2NvdW50ID0gMDtcbiAgICAgIHByb2R1Y3RzLmZvckVhY2gocHJvZHVjdCA9PiB7XG4gICAgICAgIGNvbnN0IGJhc2VWYWx1ZSA9IHByb2R1Y3QuaXNIYWxmID8gcHJvZHVjdC52YWx1ZSAvIDIgOiBwcm9kdWN0LnZhbHVlO1xuICAgICAgICBjb25zdCB2YWx1ZVdpdGhJdmEgPSBiYXNlVmFsdWUgKiAoMSArIElWQV9SQVRFKTtcbiAgICAgICAgdG90YWxEaXNjb3VudCArPSB2YWx1ZVdpdGhJdmE7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgbmV3VG90YWwgPSBpbnZvaWNlVG90YWwgLSB0b3RhbERpc2NvdW50O1xuICAgICAgXG4gICAgICAvLyBWZXJpZmljYXIgY8OhbGN1bG9zIHBhc28gYSBwYXNvXG4gICAgICBleHBlY3QodG90YWxEaXNjb3VudCkudG9CZUNsb3NlVG8oMTQxNjEsIDIpOyAvLyA1OTUwICsgNDc2MCArIDM1NzBcbiAgICAgIGV4cGVjdChuZXdUb3RhbCkudG9CZUNsb3NlVG8oODU4MzksIDIpO1xuICAgIH0pO1xuICAgIFxuICAgIHRlc3QoJ0VzY2VuYXJpbyBlZGdlIGNhc2U6IFByb2R1Y3RvIG11eSBwZXF1ZcOxbycsICgpID0+IHtcbiAgICAgIGNvbnN0IHByb2R1Y3QgPSB7IHZhbHVlOiAxLCBpc0hhbGY6IGZhbHNlIH07XG4gICAgICBjb25zdCBiYXNlVmFsdWUgPSBwcm9kdWN0LmlzSGFsZiA/IHByb2R1Y3QudmFsdWUgLyAyIDogcHJvZHVjdC52YWx1ZTtcbiAgICAgIGNvbnN0IHZhbHVlV2l0aEl2YSA9IGJhc2VWYWx1ZSAqICgxICsgSVZBX1JBVEUpO1xuICAgICAgXG4gICAgICBleHBlY3QodmFsdWVXaXRoSXZhKS50b0JlKDEuMTkpO1xuICAgIH0pO1xuICAgIFxuICAgIHRlc3QoJ0VzY2VuYXJpbyBlZGdlIGNhc2U6IFByb2R1Y3RvIGNvbiB1bmlkYWRlcyBtdXkgcGVxdWXDsW8nLCAoKSA9PiB7XG4gICAgICBjb25zdCBwcm9kdWN0ID0geyB2YWx1ZTogMiwgaXNIYWxmOiB0cnVlIH07XG4gICAgICBjb25zdCBiYXNlVmFsdWUgPSBwcm9kdWN0LmlzSGFsZiA/IHByb2R1Y3QudmFsdWUgLyAyIDogcHJvZHVjdC52YWx1ZTtcbiAgICAgIGNvbnN0IHZhbHVlV2l0aEl2YSA9IGJhc2VWYWx1ZSAqICgxICsgSVZBX1JBVEUpO1xuICAgICAgXG4gICAgICBleHBlY3QodmFsdWVXaXRoSXZhKS50b0JlKDEuMTkpO1xuICAgIH0pO1xuICB9KTtcbiAgXG4gIGRlc2NyaWJlKCdQcmVjaXNpw7NuIGRlIEPDoWxjdWxvcyBGbG90YW50ZXMnLCAoKSA9PiB7XG4gICAgXG4gICAgdGVzdCgnRGViZSBtYW5lamFyIGNvcnJlY3RhbWVudGUgbsO6bWVyb3MgZmxvdGFudGVzJywgKCkgPT4ge1xuICAgICAgY29uc3QgdGVzdENhc2VzID0gW1xuICAgICAgICB7IHZhbHVlOiAxMDAwLjMzLCBpc0hhbGY6IGZhbHNlIH0sXG4gICAgICAgIHsgdmFsdWU6IDI1MDAuNjcsIGlzSGFsZjogdHJ1ZSB9LFxuICAgICAgICB7IHZhbHVlOiA5OTkuOTksIGlzSGFsZjogZmFsc2UgfVxuICAgICAgXTtcbiAgICAgIFxuICAgICAgdGVzdENhc2VzLmZvckVhY2goKHsgdmFsdWUsIGlzSGFsZiB9KSA9PiB7XG4gICAgICAgIGNvbnN0IGJhc2VWYWx1ZSA9IGlzSGFsZiA/IHZhbHVlIC8gMiA6IHZhbHVlO1xuICAgICAgICBjb25zdCB2YWx1ZVdpdGhJdmEgPSBiYXNlVmFsdWUgKiAoMSArIElWQV9SQVRFKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFZlcmlmaWNhciBxdWUgZWwgcmVzdWx0YWRvIGVzIHVuIG7Dum1lcm8gdsOhbGlkb1xuICAgICAgICBleHBlY3QodHlwZW9mIHZhbHVlV2l0aEl2YSkudG9CZSgnbnVtYmVyJyk7XG4gICAgICAgIGV4cGVjdChpc05hTih2YWx1ZVdpdGhJdmEpKS50b0JlKGZhbHNlKTtcbiAgICAgICAgZXhwZWN0KGlzRmluaXRlKHZhbHVlV2l0aEl2YSkpLnRvQmUodHJ1ZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBcbiAgICB0ZXN0KCdEZWJlIG1hbnRlbmVyIHByZWNpc2nDs24gYWRlY3VhZGEgcGFyYSBtb25lZGEnLCAoKSA9PiB7XG4gICAgICBjb25zdCBwcm9kdWN0ID0geyB2YWx1ZTogMTAwMC4zMywgaXNIYWxmOiBmYWxzZSB9O1xuICAgICAgY29uc3QgYmFzZVZhbHVlID0gcHJvZHVjdC5pc0hhbGYgPyBwcm9kdWN0LnZhbHVlIC8gMiA6IHByb2R1Y3QudmFsdWU7XG4gICAgICBjb25zdCB2YWx1ZVdpdGhJdmEgPSBiYXNlVmFsdWUgKiAoMSArIElWQV9SQVRFKTtcbiAgICAgIFxuICAgICAgLy8gVmVyaWZpY2FyIHF1ZSBtYW50aWVuZSBwcmVjaXNpw7NuIHN1ZmljaWVudGVcbiAgICAgIGV4cGVjdCh2YWx1ZVdpdGhJdmEpLnRvQmVDbG9zZVRvKDExOTAuMzkyNywgNCk7XG4gICAgfSk7XG4gIH0pO1xuICBcbiAgZGVzY3JpYmUoJ1ZhbGlkYWNpw7NuIGRlIFJlc3VsdGFkb3MnLCAoKSA9PiB7XG4gICAgXG4gICAgdGVzdCgnTG9zIGRlc2N1ZW50b3MgbnVuY2EgZGViZW4gc2VyIG5lZ2F0aXZvcycsICgpID0+IHtcbiAgICAgIGNvbnN0IHByb2R1Y3RzID0gW1xuICAgICAgICB7IHZhbHVlOiAxMDAwLCBpc0hhbGY6IGZhbHNlIH0sXG4gICAgICAgIHsgdmFsdWU6IDIwMDAsIGlzSGFsZjogdHJ1ZSB9LFxuICAgICAgICB7IHZhbHVlOiA1MDAwLCBpc0hhbGY6IGZhbHNlIH1cbiAgICAgIF07XG4gICAgICBcbiAgICAgIHByb2R1Y3RzLmZvckVhY2gocHJvZHVjdCA9PiB7XG4gICAgICAgIGNvbnN0IGJhc2VWYWx1ZSA9IHByb2R1Y3QuaXNIYWxmID8gcHJvZHVjdC52YWx1ZSAvIDIgOiBwcm9kdWN0LnZhbHVlO1xuICAgICAgICBjb25zdCB2YWx1ZVdpdGhJdmEgPSBiYXNlVmFsdWUgKiAoMSArIElWQV9SQVRFKTtcbiAgICAgICAgXG4gICAgICAgIGV4cGVjdCh2YWx1ZVdpdGhJdmEpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIFxuICAgIHRlc3QoJ0VsIGRlc2N1ZW50byBjb24gSVZBIGRlYmUgc2VyIG1heW9yIHF1ZSBlbCB2YWxvciBiYXNlJywgKCkgPT4ge1xuICAgICAgY29uc3QgcHJvZHVjdHMgPSBbXG4gICAgICAgIHsgdmFsdWU6IDEwMDAsIGlzSGFsZjogZmFsc2UgfSxcbiAgICAgICAgeyB2YWx1ZTogMjAwMCwgaXNIYWxmOiB0cnVlIH1cbiAgICAgIF07XG4gICAgICBcbiAgICAgIHByb2R1Y3RzLmZvckVhY2gocHJvZHVjdCA9PiB7XG4gICAgICAgIGNvbnN0IGJhc2VWYWx1ZSA9IHByb2R1Y3QuaXNIYWxmID8gcHJvZHVjdC52YWx1ZSAvIDIgOiBwcm9kdWN0LnZhbHVlO1xuICAgICAgICBjb25zdCB2YWx1ZVdpdGhJdmEgPSBiYXNlVmFsdWUgKiAoMSArIElWQV9SQVRFKTtcbiAgICAgICAgXG4gICAgICAgIGV4cGVjdCh2YWx1ZVdpdGhJdmEpLnRvQmVHcmVhdGVyVGhhbihiYXNlVmFsdWUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG5cbmRlc2NyaWJlKCdDYXNvcyBkZSBQcnVlYmEgZGUgSW50ZWdyYWNpw7NuIENvbXBsZXRhJywgKCkgPT4ge1xuICBcbiAgdGVzdCgnRmx1am8gY29tcGxldG86IERlc2RlIGVudHJhZGEgaGFzdGEgcmVzdWx0YWRvIGZpbmFsJywgKCkgPT4ge1xuICAgIC8vIERhdG9zIGRlIGVudHJhZGFcbiAgICBjb25zdCBpbnZvaWNlVG90YWwgPSA1MDAwMDtcbiAgICBjb25zdCBwcm9kdWN0cyA9IFtcbiAgICAgIHsgdmFsdWU6IDIwMDAsIGlzSGFsZjogZmFsc2UgfSxcbiAgICAgIHsgdmFsdWU6IDMwMDAsIGlzSGFsZjogdHJ1ZSB9LFxuICAgICAgeyB2YWx1ZTogMTAwMCwgaXNIYWxmOiBmYWxzZSB9XG4gICAgXTtcbiAgICBcbiAgICAvLyBDw6FsY3VsbyBwYXNvIGEgcGFzb1xuICAgIGxldCB0b3RhbERpc2NvdW50ID0gMDtcbiAgICBjb25zdCBJVkFfUkFURSA9IDAuMTk7XG4gICAgXG4gICAgcHJvZHVjdHMuZm9yRWFjaChwcm9kdWN0ID0+IHtcbiAgICAgIGNvbnN0IGJhc2VWYWx1ZSA9IHByb2R1Y3QuaXNIYWxmID8gcHJvZHVjdC52YWx1ZSAvIDIgOiBwcm9kdWN0LnZhbHVlO1xuICAgICAgY29uc3QgdmFsdWVXaXRoSXZhID0gYmFzZVZhbHVlICogKDEgKyBJVkFfUkFURSk7XG4gICAgICB0b3RhbERpc2NvdW50ICs9IHZhbHVlV2l0aEl2YTtcbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCBuZXdUb3RhbCA9IGludm9pY2VUb3RhbCAtIHRvdGFsRGlzY291bnQ7XG4gICAgXG4gICAgLy8gVmVyaWZpY2FjaW9uZXNcbiAgICBleHBlY3QodG90YWxEaXNjb3VudCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgIGV4cGVjdChuZXdUb3RhbCkudG9CZUxlc3NUaGFuKGludm9pY2VUb3RhbCk7XG4gICAgZXhwZWN0KHR5cGVvZiBuZXdUb3RhbCkudG9CZSgnbnVtYmVyJyk7XG4gICAgZXhwZWN0KGlzRmluaXRlKG5ld1RvdGFsKSkudG9CZSh0cnVlKTtcbiAgfSk7XG59KTsiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUFBLFFBQVEsQ0FBQyxnQ0FBZ0MsRUFBRSxNQUFNO0VBRS9DLE1BQU1DLFFBQVEsR0FBRyxJQUFJLENBQUMsQ0FBQzs7RUFFdkJELFFBQVEsQ0FBQyx1QkFBdUIsRUFBRSxNQUFNO0lBRXRDRSxJQUFJLENB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
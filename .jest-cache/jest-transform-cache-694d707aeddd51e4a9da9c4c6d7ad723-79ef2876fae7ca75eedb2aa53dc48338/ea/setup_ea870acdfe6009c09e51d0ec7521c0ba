badb40e4555be559254070331462d406
"use strict";

/**
 * CONFIGURACIÓN DE TESTING
 * Configuración global para Jest y mocks necesarios
 */

// Configuración global de Jest
global.console = {
  ...console,
  // Silenciar logs durante testing
  log: jest.fn(),
  warn: jest.fn(),
  error: jest.fn()
};

// Mock de localStorage
const localStorageMock = {
  getItem: jest.fn(),
  setItem: jest.fn(),
  removeItem: jest.fn(),
  clear: jest.fn()
};
global.localStorage = localStorageMock;

// Mock de sessionStorage
const sessionStorageMock = {
  getItem: jest.fn(),
  setItem: jest.fn(),
  removeItem: jest.fn(),
  clear: jest.fn()
};
global.sessionStorage = sessionStorageMock;

// Mock de window.location
delete window.location;
window.location = {
  href: 'http://localhost:8000',
  origin: 'http://localhost:8000',
  protocol: 'http:',
  host: 'localhost:8000',
  hostname: 'localhost',
  port: '8000',
  pathname: '/',
  search: '',
  hash: '',
  reload: jest.fn(),
  replace: jest.fn(),
  assign: jest.fn()
};

// Mock de window.alert, confirm, prompt
global.alert = jest.fn();
global.confirm = jest.fn();
global.prompt = jest.fn();

// Mock de setTimeout y setInterval
global.setTimeout = jest.fn((callback, delay) => {
  return global.setTimeout(callback, delay);
});
global.setInterval = jest.fn((callback, delay) => {
  return global.setInterval(callback, delay);
});
global.clearTimeout = jest.fn();
global.clearInterval = jest.fn();

// Mock de fetch API
global.fetch = jest.fn(() => Promise.resolve({
  ok: true,
  status: 200,
  json: () => Promise.resolve({}),
  text: () => Promise.resolve(''),
  blob: () => Promise.resolve(new Blob()),
  arrayBuffer: () => Promise.resolve(new ArrayBuffer(0))
}));

// Mock de ResizeObserver
global.ResizeObserver = jest.fn().mockImplementation(() => ({
  observe: jest.fn(),
  unobserve: jest.fn(),
  disconnect: jest.fn()
}));

// Mock de IntersectionObserver
global.IntersectionObserver = jest.fn().mockImplementation(() => ({
  observe: jest.fn(),
  unobserve: jest.fn(),
  disconnect: jest.fn()
}));

// Mock de MutationObserver
global.MutationObserver = jest.fn().mockImplementation(() => ({
  observe: jest.fn(),
  disconnect: jest.fn(),
  takeRecords: jest.fn()
}));

// Mock de matchMedia
Object.defineProperty(window, 'matchMedia', {
  writable: true,
  value: jest.fn().mockImplementation(query => ({
    matches: false,
    media: query,
    onchange: null,
    addListener: jest.fn(),
    removeListener: jest.fn(),
    addEventListener: jest.fn(),
    removeEventListener: jest.fn(),
    dispatchEvent: jest.fn()
  }))
});

// Mock de getComputedStyle
Object.defineProperty(window, 'getComputedStyle', {
  value: jest.fn().mockImplementation(() => ({
    getPropertyValue: jest.fn().mockReturnValue('')
  }))
});

// Mock de scrollTo
Object.defineProperty(window, 'scrollTo', {
  value: jest.fn()
});

// Mock de requestAnimationFrame
global.requestAnimationFrame = jest.fn(callback => {
  return setTimeout(callback, 0);
});
global.cancelAnimationFrame = jest.fn(id => {
  clearTimeout(id);
});

// Mock de crypto para IDs únicos
Object.defineProperty(global, 'crypto', {
  value: {
    randomUUID: jest.fn(() => 'mock-uuid-1234-5678-9012'),
    getRandomValues: jest.fn(array => {
      for (let i = 0; i < array.length; i++) {
        array[i] = Math.floor(Math.random() * 256);
      }
      return array;
    })
  }
});

// Mock de Intl.NumberFormat
global.Intl = {
  ...global.Intl,
  NumberFormat: jest.fn().mockImplementation((locale, options) => {
    return {
      format: number => {
        if (locale === 'es-CL' && options?.style === 'currency') {
          return `$${number.toLocaleString('es-CL', {
            minimumFractionDigits: 2,
            maximumFractionDigits: 2
          })}`;
        }
        return number.toString();
      },
      resolvedOptions: () => ({
        locale: locale || 'es-CL',
        currency: options?.currency || 'CLP',
        style: options?.style || 'currency',
        minimumFractionDigits: options?.minimumFractionDigits || 2,
        maximumFractionDigits: options?.maximumFractionDigits || 2
      })
    };
  })
};

// Mock de Date para tests consistentes
const mockDate = new Date('2024-01-01T00:00:00.000Z');
global.Date = jest.fn(() => mockDate);
Object.assign(global.Date, {
  now: jest.fn(() => mockDate.getTime()),
  parse: jest.fn(Date.parse),
  UTC: jest.fn(Date.UTC)
});

// Mock de performance
global.performance = {
  now: jest.fn(() => 123456.789),
  mark: jest.fn(),
  measure: jest.fn(),
  getEntriesByType: jest.fn(() => []),
  getEntriesByName: jest.fn(() => []),
  clearMarks: jest.fn(),
  clearMeasures: jest.fn()
};

// Helper para crear elementos DOM mockeados
global.createMockElement = (tagName = 'div', properties = {}) => {
  const element = {
    tagName: tagName.toUpperCase(),
    textContent: '',
    innerHTML: '',
    className: '',
    style: {},
    children: [],
    parentNode: null,
    dataset: {},
    value: '',
    checked: false,
    disabled: false,
    hidden: false,
    eventListeners: {},
    ...properties
  };
  element.addEventListener = jest.fn((event, callback) => {
    if (!element.eventListeners[event]) {
      element.eventListeners[event] = [];
    }
    element.eventListeners[event].push(callback);
  });
  element.removeEventListener = jest.fn((event, callback) => {
    if (element.eventListeners[event]) {
      element.eventListeners[event] = element.eventListeners[event].filter(cb => cb !== callback);
    }
  });
  element.appendChild = jest.fn(child => {
    element.children.push(child);
    child.parentNode = element;
    return child;
  });
  element.removeChild = jest.fn(child => {
    const index = element.children.indexOf(child);
    if (index > -1) {
      element.children.splice(index, 1);
      child.parentNode = null;
    }
    return child;
  });
  element.querySelector = jest.fn(selector => {
    return element.children.find(child => child.className?.includes(selector.substring(1)));
  });
  element.querySelectorAll = jest.fn(selector => {
    return element.children.filter(child => child.className?.includes(selector.substring(1)));
  });
  element.getAttribute = jest.fn(attr => {
    return element.dataset[attr] || null;
  });
  element.setAttribute = jest.fn((attr, value) => {
    element.dataset[attr] = value;
  });
  element.focus = jest.fn(() => {
    element.focused = true;
  });
  element.blur = jest.fn(() => {
    element.focused = false;
  });
  element.click = jest.fn(() => {
    if (element.eventListeners.click) {
      element.eventListeners.click.forEach(callback => callback());
    }
  });
  return element;
};

// Helper para crear mock de document
global.createMockDocument = () => {
  const elements = {};
  return {
    elements,
    getElementById: jest.fn(id => {
      if (!elements[id]) {
        elements[id] = createMockElement();
      }
      return elements[id];
    }),
    createElement: jest.fn(tagName => {
      return createMockElement(tagName);
    }),
    createTextNode: jest.fn(text => {
      const node = createMockElement('text');
      node.textContent = text;
      return node;
    }),
    querySelector: jest.fn(),
    querySelectorAll: jest.fn(),
    addEventListener: jest.fn(),
    removeEventListener: jest.fn()
  };
};

// Configuración de matchers personalizados
expect.extend({
  toBeValidCurrency(received) {
    const pass = /^\$[\d.,]+$/.test(received);
    if (pass) {
      return {
        message: () => `expected ${received} not to be valid currency format`,
        pass: true
      };
    } else {
      return {
        message: () => `expected ${received} to be valid currency format`,
        pass: false
      };
    }
  },
  toBePositiveNumber(received) {
    const pass = typeof received === 'number' && received > 0 && isFinite(received);
    if (pass) {
      return {
        message: () => `expected ${received} not to be a positive number`,
        pass: true
      };
    } else {
      return {
        message: () => `expected ${received} to be a positive number`,
        pass: false
      };
    }
  }
});

// Configuración de timeout para tests
jest.setTimeout(10000);

// Configuración para después de cada test
afterEach(() => {
  jest.clearAllMocks();
  localStorage.clear();
  sessionStorage.clear();
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJnbG9iYWwiLCJjb25zb2xlIiwibG9nIiwiamVzdCIsImZuIiwid2FybiIsImVycm9yIiwibG9jYWxTdG9yYWdlTW9jayIsImdldEl0ZW0iLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsImNsZWFyIiwibG9jYWxTdG9yYWdlIiwic2Vzc2lvblN0b3JhZ2VNb2NrIiwic2Vzc2lvblN0b3JhZ2UiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJvcmlnaW4iLCJwcm90b2NvbCIsImhvc3QiLCJob3N0bmFtZSIsInBvcnQiLCJwYXRobmFtZSIsInNlYXJjaCIsImhhc2giLCJyZWxvYWQiLCJyZXBsYWNlIiwiYXNzaWduIiwiYWxlcnQiLCJjb25maXJtIiwicHJvbXB0Iiwic2V0VGltZW91dCIsImNhbGxiYWNrIiwiZGVsYXkiLCJzZXRJbnRlcnZhbCIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiLCJmZXRjaCIsIlByb21pc2UiLCJyZXNvbHZlIiwib2siLCJzdGF0dXMiLCJqc29uIiwidGV4dCIsImJsb2IiLCJCbG9iIiwiYXJyYXlCdWZmZXIiLCJBcnJheUJ1ZmZlciIsIlJlc2l6ZU9ic2VydmVyIiwibW9ja0ltcGxlbWVudGF0aW9uIiwib2JzZXJ2ZSIsInVub2JzZXJ2ZSIsImRpc2Nvbm5lY3QiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJ0YWtlUmVjb3JkcyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwid3JpdGFibGUiLCJ2YWx1ZSIsInF1ZXJ5IiwibWF0Y2hlcyIsIm1lZGlhIiwib25jaGFuZ2UiLCJhZGRMaXN0ZW5lciIsInJlbW92ZUxpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkaXNwYXRjaEV2ZW50IiwiZ2V0UHJvcGVydHlWYWx1ZSIsIm1vY2tSZXR1cm5WYWx1ZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiaWQiLCJyYW5kb21VVUlEIiwiZ2V0UmFuZG9tVmFsdWVzIiwiYXJyYXkiLCJpIiwibGVuZ3RoIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiSW50bCIsIk51bWJlckZvcm1hdCIsImxvY2FsZSIsIm9wdGlvbnMiLCJmb3JtYXQiLCJudW1iZXIiLCJzdHlsZSIsInRvTG9jYWxlU3RyaW5nIiwibWluaW11bUZyYWN0aW9uRGlnaXRzIiwibWF4aW11bUZyYWN0aW9uRGlnaXRzIiwidG9TdHJpbmciLCJyZXNvbHZlZE9wdGlvbnMiLCJjdXJyZW5jeSIsIm1vY2tEYXRlIiwiRGF0ZSIsIm5vdyIsImdldFRpbWUiLCJwYXJzZSIsIlVUQyIsInBlcmZvcm1hbmNlIiwibWFyayIsIm1lYXN1cmUiLCJnZXRFbnRyaWVzQnlUeXBlIiwiZ2V0RW50cmllc0J5TmFtZSIsImNsZWFyTWFya3MiLCJjbGVhck1lYXN1cmVzIiwiY3JlYXRlTW9ja0VsZW1lbnQiLCJ0YWdOYW1lIiwicHJvcGVydGllcyIsImVsZW1lbnQiLCJ0b1VwcGVyQ2FzZSIsInRleHRDb250ZW50IiwiaW5uZXJIVE1MIiwiY2xhc3NOYW1lIiwiY2hpbGRyZW4iLCJwYXJlbnROb2RlIiwiZGF0YXNldCIsImNoZWNrZWQiLCJkaXNhYmxlZCIsImhpZGRlbiIsImV2ZW50TGlzdGVuZXJzIiwiZXZlbnQiLCJwdXNoIiwiZmlsdGVyIiwiY2IiLCJhcHBlbmRDaGlsZCIsImNoaWxkIiwicmVtb3ZlQ2hpbGQiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJxdWVyeVNlbGVjdG9yIiwic2VsZWN0b3IiLCJmaW5kIiwiaW5jbHVkZXMiLCJzdWJzdHJpbmciLCJxdWVyeVNlbGVjdG9yQWxsIiwiZ2V0QXR0cmlidXRlIiwiYXR0ciIsInNldEF0dHJpYnV0ZSIsImZvY3VzIiwiZm9jdXNlZCIsImJsdXIiLCJjbGljayIsImZvckVhY2giLCJjcmVhdGVNb2NrRG9jdW1lbnQiLCJlbGVtZW50cyIsImdldEVsZW1lbnRCeUlkIiwiY3JlYXRlRWxlbWVudCIsImNyZWF0ZVRleHROb2RlIiwibm9kZSIsImV4cGVjdCIsImV4dGVuZCIsInRvQmVWYWxpZEN1cnJlbmN5IiwicmVjZWl2ZWQiLCJwYXNzIiwidGVzdCIsIm1lc3NhZ2UiLCJ0b0JlUG9zaXRpdmVOdW1iZXIiLCJpc0Zpbml0ZSIsImFmdGVyRWFjaCIsImNsZWFyQWxsTW9ja3MiXSwic291cmNlcyI6WyJzZXR1cC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENPTkZJR1VSQUNJw5NOIERFIFRFU1RJTkdcbiAqIENvbmZpZ3VyYWNpw7NuIGdsb2JhbCBwYXJhIEplc3QgeSBtb2NrcyBuZWNlc2FyaW9zXG4gKi9cblxuLy8gQ29uZmlndXJhY2nDs24gZ2xvYmFsIGRlIEplc3Rcbmdsb2JhbC5jb25zb2xlID0ge1xuICAuLi5jb25zb2xlLFxuICAvLyBTaWxlbmNpYXIgbG9ncyBkdXJhbnRlIHRlc3RpbmdcbiAgbG9nOiBqZXN0LmZuKCksXG4gIHdhcm46IGplc3QuZm4oKSxcbiAgZXJyb3I6IGplc3QuZm4oKVxufTtcblxuLy8gTW9jayBkZSBsb2NhbFN0b3JhZ2VcbmNvbnN0IGxvY2FsU3RvcmFnZU1vY2sgPSB7XG4gIGdldEl0ZW06IGplc3QuZm4oKSxcbiAgc2V0SXRlbTogamVzdC5mbigpLFxuICByZW1vdmVJdGVtOiBqZXN0LmZuKCksXG4gIGNsZWFyOiBqZXN0LmZuKClcbn07XG5nbG9iYWwubG9jYWxTdG9yYWdlID0gbG9jYWxTdG9yYWdlTW9jaztcblxuLy8gTW9jayBkZSBzZXNzaW9uU3RvcmFnZVxuY29uc3Qgc2Vzc2lvblN0b3JhZ2VNb2NrID0ge1xuICBnZXRJdGVtOiBqZXN0LmZuKCksXG4gIHNldEl0ZW06IGplc3QuZm4oKSxcbiAgcmVtb3ZlSXRlbTogamVzdC5mbigpLFxuICBjbGVhcjogamVzdC5mbigpXG59O1xuZ2xvYmFsLnNlc3Npb25TdG9yYWdlID0gc2Vzc2lvblN0b3JhZ2VNb2NrO1xuXG4vLyBNb2NrIGRlIHdpbmRvdy5sb2NhdGlvblxuZGVsZXRlIHdpbmRvdy5sb2NhdGlvbjtcbndpbmRvdy5sb2NhdGlvbiA9IHtcbiAgaHJlZjogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMCcsXG4gIG9yaWdpbjogJ2h0dHA6Ly9sb2NhbGhvc3Q6ODAwMCcsXG4gIHByb3RvY29sOiAnaHR0cDonLFxuICBob3N0OiAnbG9jYWxob3N0OjgwMDAnLFxuICBob3N0bmFtZTogJ2xvY2FsaG9zdCcsXG4gIHBvcnQ6ICc4MDAwJyxcbiAgcGF0aG5hbWU6ICcvJyxcbiAgc2VhcmNoOiAnJyxcbiAgaGFzaDogJycsXG4gIHJlbG9hZDogamVzdC5mbigpLFxuICByZXBsYWNlOiBqZXN0LmZuKCksXG4gIGFzc2lnbjogamVzdC5mbigpXG59O1xuXG4vLyBNb2NrIGRlIHdpbmRvdy5hbGVydCwgY29uZmlybSwgcHJvbXB0XG5nbG9iYWwuYWxlcnQgPSBqZXN0LmZuKCk7XG5nbG9iYWwuY29uZmlybSA9IGplc3QuZm4oKTtcbmdsb2JhbC5wcm9tcHQgPSBqZXN0LmZuKCk7XG5cbi8vIE1vY2sgZGUgc2V0VGltZW91dCB5IHNldEludGVydmFsXG5nbG9iYWwuc2V0VGltZW91dCA9IGplc3QuZm4oKGNhbGxiYWNrLCBkZWxheSkgPT4ge1xuICByZXR1cm4gZ2xvYmFsLnNldFRpbWVvdXQoY2FsbGJhY2ssIGRlbGF5KTtcbn0pO1xuZ2xvYmFsLnNldEludGVydmFsID0gamVzdC5mbigoY2FsbGJhY2ssIGRlbGF5KSA9PiB7XG4gIHJldHVybiBnbG9iYWwuc2V0SW50ZXJ2YWwoY2FsbGJhY2ssIGRlbGF5KTtcbn0pO1xuZ2xvYmFsLmNsZWFyVGltZW91dCA9IGplc3QuZm4oKTtcbmdsb2JhbC5jbGVhckludGVydmFsID0gamVzdC5mbigpO1xuXG4vLyBNb2NrIGRlIGZldGNoIEFQSVxuZ2xvYmFsLmZldGNoID0gamVzdC5mbigoKSA9PlxuICBQcm9taXNlLnJlc29sdmUoe1xuICAgIG9rOiB0cnVlLFxuICAgIHN0YXR1czogMjAwLFxuICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7fSksXG4gICAgdGV4dDogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKCcnKSxcbiAgICBibG9iOiAoKSA9PiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoKSksXG4gICAgYXJyYXlCdWZmZXI6ICgpID0+IFByb21pc2UucmVzb2x2ZShuZXcgQXJyYXlCdWZmZXIoMCkpXG4gIH0pXG4pO1xuXG4vLyBNb2NrIGRlIFJlc2l6ZU9ic2VydmVyXG5nbG9iYWwuUmVzaXplT2JzZXJ2ZXIgPSBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+ICh7XG4gIG9ic2VydmU6IGplc3QuZm4oKSxcbiAgdW5vYnNlcnZlOiBqZXN0LmZuKCksXG4gIGRpc2Nvbm5lY3Q6IGplc3QuZm4oKVxufSkpO1xuXG4vLyBNb2NrIGRlIEludGVyc2VjdGlvbk9ic2VydmVyXG5nbG9iYWwuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+ICh7XG4gIG9ic2VydmU6IGplc3QuZm4oKSxcbiAgdW5vYnNlcnZlOiBqZXN0LmZuKCksXG4gIGRpc2Nvbm5lY3Q6IGplc3QuZm4oKVxufSkpO1xuXG4vLyBNb2NrIGRlIE11dGF0aW9uT2JzZXJ2ZXJcbmdsb2JhbC5NdXRhdGlvbk9ic2VydmVyID0gamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiAoe1xuICBvYnNlcnZlOiBqZXN0LmZuKCksXG4gIGRpc2Nvbm5lY3Q6IGplc3QuZm4oKSxcbiAgdGFrZVJlY29yZHM6IGplc3QuZm4oKVxufSkpO1xuXG4vLyBNb2NrIGRlIG1hdGNoTWVkaWFcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdtYXRjaE1lZGlhJywge1xuICB3cml0YWJsZTogdHJ1ZSxcbiAgdmFsdWU6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24ocXVlcnkgPT4gKHtcbiAgICBtYXRjaGVzOiBmYWxzZSxcbiAgICBtZWRpYTogcXVlcnksXG4gICAgb25jaGFuZ2U6IG51bGwsXG4gICAgYWRkTGlzdGVuZXI6IGplc3QuZm4oKSxcbiAgICByZW1vdmVMaXN0ZW5lcjogamVzdC5mbigpLFxuICAgIGFkZEV2ZW50TGlzdGVuZXI6IGplc3QuZm4oKSxcbiAgICByZW1vdmVFdmVudExpc3RlbmVyOiBqZXN0LmZuKCksXG4gICAgZGlzcGF0Y2hFdmVudDogamVzdC5mbigpXG4gIH0pKVxufSk7XG5cbi8vIE1vY2sgZGUgZ2V0Q29tcHV0ZWRTdHlsZVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ2dldENvbXB1dGVkU3R5bGUnLCB7XG4gIHZhbHVlOiBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+ICh7XG4gICAgZ2V0UHJvcGVydHlWYWx1ZTogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSgnJylcbiAgfSkpXG59KTtcblxuLy8gTW9jayBkZSBzY3JvbGxUb1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ3Njcm9sbFRvJywge1xuICB2YWx1ZTogamVzdC5mbigpXG59KTtcblxuLy8gTW9jayBkZSByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbmdsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBqZXN0LmZuKGNhbGxiYWNrID0+IHtcbiAgcmV0dXJuIHNldFRpbWVvdXQoY2FsbGJhY2ssIDApO1xufSk7XG5cbmdsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZSA9IGplc3QuZm4oaWQgPT4ge1xuICBjbGVhclRpbWVvdXQoaWQpO1xufSk7XG5cbi8vIE1vY2sgZGUgY3J5cHRvIHBhcmEgSURzIMO6bmljb3Ncbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShnbG9iYWwsICdjcnlwdG8nLCB7XG4gIHZhbHVlOiB7XG4gICAgcmFuZG9tVVVJRDogamVzdC5mbigoKSA9PiAnbW9jay11dWlkLTEyMzQtNTY3OC05MDEyJyksXG4gICAgZ2V0UmFuZG9tVmFsdWVzOiBqZXN0LmZuKChhcnJheSkgPT4ge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICBhcnJheVtpXSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDI1Nik7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfSlcbiAgfVxufSk7XG5cbi8vIE1vY2sgZGUgSW50bC5OdW1iZXJGb3JtYXRcbmdsb2JhbC5JbnRsID0ge1xuICAuLi5nbG9iYWwuSW50bCxcbiAgTnVtYmVyRm9ybWF0OiBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKChsb2NhbGUsIG9wdGlvbnMpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgZm9ybWF0OiAobnVtYmVyKSA9PiB7XG4gICAgICAgIGlmIChsb2NhbGUgPT09ICdlcy1DTCcgJiYgb3B0aW9ucz8uc3R5bGUgPT09ICdjdXJyZW5jeScpIHtcbiAgICAgICAgICByZXR1cm4gYCQke251bWJlci50b0xvY2FsZVN0cmluZygnZXMtQ0wnLCB7IG1pbmltdW1GcmFjdGlvbkRpZ2l0czogMiwgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAyIH0pfWA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bWJlci50b1N0cmluZygpO1xuICAgICAgfSxcbiAgICAgIHJlc29sdmVkT3B0aW9uczogKCkgPT4gKHtcbiAgICAgICAgbG9jYWxlOiBsb2NhbGUgfHwgJ2VzLUNMJyxcbiAgICAgICAgY3VycmVuY3k6IG9wdGlvbnM/LmN1cnJlbmN5IHx8ICdDTFAnLFxuICAgICAgICBzdHlsZTogb3B0aW9ucz8uc3R5bGUgfHwgJ2N1cnJlbmN5JyxcbiAgICAgICAgbWluaW11bUZyYWN0aW9uRGlnaXRzOiBvcHRpb25zPy5taW5pbXVtRnJhY3Rpb25EaWdpdHMgfHwgMixcbiAgICAgICAgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiBvcHRpb25zPy5tYXhpbXVtRnJhY3Rpb25EaWdpdHMgfHwgMlxuICAgICAgfSlcbiAgICB9O1xuICB9KVxufTtcblxuLy8gTW9jayBkZSBEYXRlIHBhcmEgdGVzdHMgY29uc2lzdGVudGVzXG5jb25zdCBtb2NrRGF0ZSA9IG5ldyBEYXRlKCcyMDI0LTAxLTAxVDAwOjAwOjAwLjAwMFonKTtcbmdsb2JhbC5EYXRlID0gamVzdC5mbigoKSA9PiBtb2NrRGF0ZSk7XG5PYmplY3QuYXNzaWduKGdsb2JhbC5EYXRlLCB7XG4gIG5vdzogamVzdC5mbigoKSA9PiBtb2NrRGF0ZS5nZXRUaW1lKCkpLFxuICBwYXJzZTogamVzdC5mbihEYXRlLnBhcnNlKSxcbiAgVVRDOiBqZXN0LmZuKERhdGUuVVRDKVxufSk7XG5cbi8vIE1vY2sgZGUgcGVyZm9ybWFuY2Vcbmdsb2JhbC5wZXJmb3JtYW5jZSA9IHtcbiAgbm93OiBqZXN0LmZuKCgpID0+IDEyMzQ1Ni43ODkpLFxuICBtYXJrOiBqZXN0LmZuKCksXG4gIG1lYXN1cmU6IGplc3QuZm4oKSxcbiAgZ2V0RW50cmllc0J5VHlwZTogamVzdC5mbigoKSA9PiBbXSksXG4gIGdldEVudHJpZXNCeU5hbWU6IGplc3QuZm4oKCkgPT4gW10pLFxuICBjbGVhck1hcmtzOiBqZXN0LmZuKCksXG4gIGNsZWFyTWVhc3VyZXM6IGplc3QuZm4oKVxufTtcblxuLy8gSGVscGVyIHBhcmEgY3JlYXIgZWxlbWVudG9zIERPTSBtb2NrZWFkb3Ncbmdsb2JhbC5jcmVhdGVNb2NrRWxlbWVudCA9ICh0YWdOYW1lID0gJ2RpdicsIHByb3BlcnRpZXMgPSB7fSkgPT4ge1xuICBjb25zdCBlbGVtZW50ID0ge1xuICAgIHRhZ05hbWU6IHRhZ05hbWUudG9VcHBlckNhc2UoKSxcbiAgICB0ZXh0Q29udGVudDogJycsXG4gICAgaW5uZXJIVE1MOiAnJyxcbiAgICBjbGFzc05hbWU6ICcnLFxuICAgIHN0eWxlOiB7fSxcbiAgICBjaGlsZHJlbjogW10sXG4gICAgcGFyZW50Tm9kZTogbnVsbCxcbiAgICBkYXRhc2V0OiB7fSxcbiAgICB2YWx1ZTogJycsXG4gICAgY2hlY2tlZDogZmFsc2UsXG4gICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgIGhpZGRlbjogZmFsc2UsXG4gICAgZXZlbnRMaXN0ZW5lcnM6IHt9LFxuICAgIC4uLnByb3BlcnRpZXNcbiAgfTtcbiAgXG4gIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciA9IGplc3QuZm4oKGV2ZW50LCBjYWxsYmFjaykgPT4ge1xuICAgIGlmICghZWxlbWVudC5ldmVudExpc3RlbmVyc1tldmVudF0pIHtcbiAgICAgIGVsZW1lbnQuZXZlbnRMaXN0ZW5lcnNbZXZlbnRdID0gW107XG4gICAgfVxuICAgIGVsZW1lbnQuZXZlbnRMaXN0ZW5lcnNbZXZlbnRdLnB1c2goY2FsbGJhY2spO1xuICB9KTtcbiAgXG4gIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGplc3QuZm4oKGV2ZW50LCBjYWxsYmFjaykgPT4ge1xuICAgIGlmIChlbGVtZW50LmV2ZW50TGlzdGVuZXJzW2V2ZW50XSkge1xuICAgICAgZWxlbWVudC5ldmVudExpc3RlbmVyc1tldmVudF0gPSBlbGVtZW50LmV2ZW50TGlzdGVuZXJzW2V2ZW50XS5maWx0ZXIoY2IgPT4gY2IgIT09IGNhbGxiYWNrKTtcbiAgICB9XG4gIH0pO1xuICBcbiAgZWxlbWVudC5hcHBlbmRDaGlsZCA9IGplc3QuZm4oKGNoaWxkKSA9PiB7XG4gICAgZWxlbWVudC5jaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICBjaGlsZC5wYXJlbnROb2RlID0gZWxlbWVudDtcbiAgICByZXR1cm4gY2hpbGQ7XG4gIH0pO1xuICBcbiAgZWxlbWVudC5yZW1vdmVDaGlsZCA9IGplc3QuZm4oKGNoaWxkKSA9PiB7XG4gICAgY29uc3QgaW5kZXggPSBlbGVtZW50LmNoaWxkcmVuLmluZGV4T2YoY2hpbGQpO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICBlbGVtZW50LmNoaWxkcmVuLnNwbGljZShpbmRleCwgMSk7XG4gICAgICBjaGlsZC5wYXJlbnROb2RlID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNoaWxkO1xuICB9KTtcbiAgXG4gIGVsZW1lbnQucXVlcnlTZWxlY3RvciA9IGplc3QuZm4oKHNlbGVjdG9yKSA9PiB7XG4gICAgcmV0dXJuIGVsZW1lbnQuY2hpbGRyZW4uZmluZChjaGlsZCA9PiBjaGlsZC5jbGFzc05hbWU/LmluY2x1ZGVzKHNlbGVjdG9yLnN1YnN0cmluZygxKSkpO1xuICB9KTtcbiAgXG4gIGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCA9IGplc3QuZm4oKHNlbGVjdG9yKSA9PiB7XG4gICAgcmV0dXJuIGVsZW1lbnQuY2hpbGRyZW4uZmlsdGVyKGNoaWxkID0+IGNoaWxkLmNsYXNzTmFtZT8uaW5jbHVkZXMoc2VsZWN0b3Iuc3Vic3RyaW5nKDEpKSk7XG4gIH0pO1xuICBcbiAgZWxlbWVudC5nZXRBdHRyaWJ1dGUgPSBqZXN0LmZuKChhdHRyKSA9PiB7XG4gICAgcmV0dXJuIGVsZW1lbnQuZGF0YXNldFthdHRyXSB8fCBudWxsO1xuICB9KTtcbiAgXG4gIGVsZW1lbnQuc2V0QXR0cmlidXRlID0gamVzdC5mbigoYXR0ciwgdmFsdWUpID0+IHtcbiAgICBlbGVtZW50LmRhdGFzZXRbYXR0cl0gPSB2YWx1ZTtcbiAgfSk7XG4gIFxuICBlbGVtZW50LmZvY3VzID0gamVzdC5mbigoKSA9PiB7XG4gICAgZWxlbWVudC5mb2N1c2VkID0gdHJ1ZTtcbiAgfSk7XG4gIFxuICBlbGVtZW50LmJsdXIgPSBqZXN0LmZuKCgpID0+IHtcbiAgICBlbGVtZW50LmZvY3VzZWQgPSBmYWxzZTtcbiAgfSk7XG4gIFxuICBlbGVtZW50LmNsaWNrID0gamVzdC5mbigoKSA9PiB7XG4gICAgaWYgKGVsZW1lbnQuZXZlbnRMaXN0ZW5lcnMuY2xpY2spIHtcbiAgICAgIGVsZW1lbnQuZXZlbnRMaXN0ZW5lcnMuY2xpY2suZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjaygpKTtcbiAgICB9XG4gIH0pO1xuICBcbiAgcmV0dXJuIGVsZW1lbnQ7XG59O1xuXG4vLyBIZWxwZXIgcGFyYSBjcmVhciBtb2NrIGRlIGRvY3VtZW50XG5nbG9iYWwuY3JlYXRlTW9ja0RvY3VtZW50ID0gKCkgPT4ge1xuICBjb25zdCBlbGVtZW50cyA9IHt9O1xuICBcbiAgcmV0dXJuIHtcbiAgICBlbGVtZW50cyxcbiAgICBnZXRFbGVtZW50QnlJZDogamVzdC5mbigoaWQpID0+IHtcbiAgICAgIGlmICghZWxlbWVudHNbaWRdKSB7XG4gICAgICAgIGVsZW1lbnRzW2lkXSA9IGNyZWF0ZU1vY2tFbGVtZW50KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZWxlbWVudHNbaWRdO1xuICAgIH0pLFxuICAgIGNyZWF0ZUVsZW1lbnQ6IGplc3QuZm4oKHRhZ05hbWUpID0+IHtcbiAgICAgIHJldHVybiBjcmVhdGVNb2NrRWxlbWVudCh0YWdOYW1lKTtcbiAgICB9KSxcbiAgICBjcmVhdGVUZXh0Tm9kZTogamVzdC5mbigodGV4dCkgPT4ge1xuICAgICAgY29uc3Qgbm9kZSA9IGNyZWF0ZU1vY2tFbGVtZW50KCd0ZXh0Jyk7XG4gICAgICBub2RlLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH0pLFxuICAgIHF1ZXJ5U2VsZWN0b3I6IGplc3QuZm4oKSxcbiAgICBxdWVyeVNlbGVjdG9yQWxsOiBqZXN0LmZuKCksXG4gICAgYWRkRXZlbnRMaXN0ZW5lcjogamVzdC5mbigpLFxuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXI6IGplc3QuZm4oKVxuICB9O1xufTtcblxuLy8gQ29uZmlndXJhY2nDs24gZGUgbWF0Y2hlcnMgcGVyc29uYWxpemFkb3NcbmV4cGVjdC5leHRlbmQoe1xuICB0b0JlVmFsaWRDdXJyZW5jeShyZWNlaXZlZCkge1xuICAgIGNvbnN0IHBhc3MgPSAvXlxcJFtcXGQuLF0rJC8udGVzdChyZWNlaXZlZCk7XG4gICAgaWYgKHBhc3MpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2U6ICgpID0+IGBleHBlY3RlZCAke3JlY2VpdmVkfSBub3QgdG8gYmUgdmFsaWQgY3VycmVuY3kgZm9ybWF0YCxcbiAgICAgICAgcGFzczogdHJ1ZVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWVzc2FnZTogKCkgPT4gYGV4cGVjdGVkICR7cmVjZWl2ZWR9IHRvIGJlIHZhbGlkIGN1cnJlbmN5IGZvcm1hdGAsXG4gICAgICAgIHBhc3M6IGZhbHNlXG4gICAgICB9O1xuICAgIH1cbiAgfSxcbiAgXG4gIHRvQmVQb3NpdGl2ZU51bWJlcihyZWNlaXZlZCkge1xuICAgIGNvbnN0IHBhc3MgPSB0eXBlb2YgcmVjZWl2ZWQgPT09ICdudW1iZXInICYmIHJlY2VpdmVkID4gMCAmJiBpc0Zpbml0ZShyZWNlaXZlZCk7XG4gICAgaWYgKHBhc3MpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2U6ICgpID0+IGBleHBlY3RlZCAke3JlY2VpdmVkfSBub3QgdG8gYmUgYSBwb3NpdGl2ZSBudW1iZXJgLFxuICAgICAgICBwYXNzOiB0cnVlXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBtZXNzYWdlOiAoKSA9PiBgZXhwZWN0ZWQgJHtyZWNlaXZlZH0gdG8gYmUgYSBwb3NpdGl2ZSBudW1iZXJgLFxuICAgICAgICBwYXNzOiBmYWxzZVxuICAgICAgfTtcbiAgICB9XG4gIH1cbn0pO1xuXG4vLyBDb25maWd1cmFjacOzbiBkZSB0aW1lb3V0IHBhcmEgdGVzdHNcbmplc3Quc2V0VGltZW91dCgxMDAwMCk7XG5cbi8vIENvbmZpZ3VyYWNpw7NuIHBhcmEgZGVzcHXDqXMgZGUgY2FkYSB0ZXN0XG5hZnRlckVhY2goKCkgPT4ge1xuICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7XG4gIHNlc3Npb25TdG9yYWdlLmNsZWFyKCk7XG59KTsiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQUEsTUFBTSxDQUFDQyxPQUFPLEdBQUc7RUFDZixHQUFHQSxPQUFPO0VBQ1Y7RUFDQUMsR0FBRyxFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0VBQ2RDLElBQUksRUFBRUYsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztFQUNmRSxLQUFLLEVBQUVILElBQUksQ0FBQ0MsRUFBRSxDQUFDO0FBQ2pCLENBQUM7O0FBRUQ7QUFDQSxNQUFNRyxnQkFBZ0IsR0FBRztFQUN2QkMsT0FBTyxFQUFFTCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0VBQ2xCSyxPQUFPLEVBQUVOLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7RUFDbEJNLFVBQVUsRUFBRVAsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztFQUNyQk8sS0FBSyxFQUFFUixJQUFJLENBQUNDLEVBQUUsQ0FBQztBQUNqQixDQUFDO0FBQ0RKLE1BQU0sQ0FBQ1ksWUFBWSxHQUFHTCxnQkFBZ0I7O0FBRXRDO0FBQ0EsTUFBTU0sa0JBQWtCLEdBQUc7RUFDekJMLE9BQU8sRUFBRUwsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztFQUNsQkssT0FBTyxFQUFFTixJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0VBQ2xCTSxVQUFVLEVBQUVQLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7RUFDckJPLEtBQUssRUFBRVIsSUFBSSxDQUFDQyxFQUFFLENBQUM7QUFDakIsQ0FBQztBQUNESixNQUFNLENBQUNjLGNBQWMsR0FBR0Qsa0JBQWtCOztBQUUxQztBQUNBLE9BQU9FLE1BQU0sQ0FBQ0MsUUFBUTtBQUN0QkQsTUFBTSxDQUFDQyxRQUFRLEdBQUc7RUFDaEJDLElBQUksRUFBRSx1QkFBdUI7RUFDN0JDLE1BQU0sRUFBRSx1QkFBdUI7RUFDL0JDLFFBQVEsRUFBRSxPQUFPO0VBQ2pCQyxJQUFJLEVBQUUsZ0JBQWdCO0VBQ3RCQyxRQUFRLEVBQUUsV0FBVztFQUNyQkMsSUFBSSxFQUFFLE1BQU07RUFDWkMsUUFBUSxFQUFFLEdBQUc7RUFDYkMsTUFBTSxFQUFFLEVBQUU7RUFDVkMsSUFBSSxFQUFFLEVBQUU7RUFDUkMsTUFBTSxFQUFFdkIsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztFQUNqQnVCLE9BQU8sRUFBRXhCLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7RUFDbEJ3QixNQUFNLEVBQUV6QixJQUFJLENBQUNDLEVBQUUsQ0FBQztBQUNsQixDQUFDOztBQUVEO0FBQ0FKLE1BQU0sQ0FBQzZCLEtBQUssR0FBRzFCLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7QUFDeEJKLE1BQU0sQ0FBQzhCLE9BQU8sR0FBRzNCLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7QUFDMUJKLE1BQU0sQ0FBQytCLE1BQU0sR0FBRzVCLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7O0FBRXpCO0FBQ0FKLE1BQU0sQ0FBQ2dDLFVBQVUsR0FBRzdCLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM2QixRQUFRLEVBQUVDLEtBQUssS0FBSztFQUMvQyxPQUFPbEMsTUFBTSxDQUFDZ0MsVUFBVSxDQUFDQyxRQUFRLEVBQUVDLEtBQUssQ0FBQztBQUMzQyxDQUFDLENBQUM7QUFDRmxDLE1BQU0sQ0FBQ21DLFdBQVcsR0FBR2hDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM2QixRQUFRLEVBQUVDLEtBQUssS0FBSztFQUNoRCxPQUFPbEMsTUFBTSxDQUFDbUMsV0FBVyxDQUFDRixRQUFRLEVBQUVDLEtBQUssQ0FBQztBQUM1QyxDQUFDLENBQUM7QUFDRmxDLE1BQU0sQ0FBQ29DLFlBQVksR0FBR2pDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7QUFDL0JKLE1BQU0sQ0FBQ3FDLGFBQWEsR0FBR2xDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7O0FBRWhDO0FBQ0FKLE1BQU0sQ0FBQ3NDLEtBQUssR0FBR25DLElBQUksQ0FBQ0MsRUFBRSxDQUFDLE1BQ3JCbUMsT0FBTyxDQUFDQyxPQUFPLENBQUM7RUFDZEMsRUFBRSxFQUFFLElBQUk7RUFDUkMsTUFBTSxFQUFFLEdBQUc7RUFDWEMsSUFBSSxFQUFFQSxDQUFBLEtBQU1KLE9BQU8sQ0FBQ0MsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO0VBQy9CSSxJQUFJLEVBQUVBLENBQUEsS0FBTUwsT0FBTyxDQUFDQyxPQUFPLENBQUMsRUFBRSxDQUFDO0VBQy9CSyxJQUFJLEVBQUVBLENBQUEsS0FBTU4sT0FBTyxDQUFDQyxPQUFPLENBQUMsSUFBSU0sSUFBSSxDQUFDLENBQUMsQ0FBQztFQUN2Q0MsV0FBVyxFQUFFQSxDQUFBLEtBQU1SLE9BQU8sQ0FBQ0MsT0FBTyxDQUFDLElBQUlRLFdBQVcsQ0FBQyxDQUFDLENBQUM7QUFDdkQsQ0FBQyxDQUNILENBQUM7O0FBRUQ7QUFDQWhELE1BQU0sQ0FBQ2lELGNBQWMsR0FBRzlDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUMsQ0FBQzhDLGtCQUFrQixDQUFDLE9BQU87RUFDMURDLE9BQU8sRUFBRWhELElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7RUFDbEJnRCxTQUFTLEVBQUVqRCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0VBQ3BCaUQsVUFBVSxFQUFFbEQsSUFBSSxDQUFDQyxFQUFFLENBQUM7QUFDdEIsQ0FBQyxDQUFDLENBQUM7O0FBRUg7QUFDQUosTUFBTSxDQUFDc0Qsb0JBQW9CLEdBQUduRCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDLENBQUM4QyxrQkFBa0IsQ0FBQyxPQUFPO0VBQ2hFQyxPQUFPLEVBQUVoRCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0VBQ2xCZ0QsU0FBUyxFQUFFakQsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztFQUNwQmlELFVBQVUsRUFBRWxELElBQUksQ0FBQ0MsRUFBRSxDQUFDO0FBQ3RCLENBQUMsQ0FBQyxDQUFDOztBQUVIO0FBQ0FKLE1BQU0sQ0FBQ3VELGdCQUFnQixHQUFHcEQsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQyxDQUFDOEMsa0JBQWtCLENBQUMsT0FBTztFQUM1REMsT0FBTyxFQUFFaEQsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztFQUNsQmlELFVBQVUsRUFBRWxELElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7RUFDckJvRCxXQUFXLEVBQUVyRCxJQUFJLENBQUNDLEVBQUUsQ0FBQztBQUN2QixDQUFDLENBQUMsQ0FBQzs7QUFFSDtBQUNBcUQsTUFBTSxDQUFDQyxjQUFjLENBQUMzQyxNQUFNLEVBQUUsWUFBWSxFQUFFO0VBQzFDNEMsUUFBUSxFQUFFLElBQUk7RUFDZEMsS0FBSyxFQUFFekQsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQyxDQUFDOEMsa0JBQWtCLENBQUNXLEtBQUssS0FBSztJQUM1Q0MsT0FBTyxFQUFFLEtBQUs7SUFDZEMsS0FBSyxFQUFFRixLQUFLO0lBQ1pHLFFBQVEsRUFBRSxJQUFJO0lBQ2RDLFdBQVcsRUFBRTlELElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7SUFDdEI4RCxjQUFjLEVBQUUvRCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0lBQ3pCK0QsZ0JBQWdCLEVBQUVoRSxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0lBQzNCZ0UsbUJBQW1CLEVBQUVqRSxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDO0lBQzlCaUUsYUFBYSxFQUFFbEUsSUFBSSxDQUFDQyxFQUFFLENBQUM7RUFDekIsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDOztBQUVGO0FBQ0FxRCxNQUFNLENBQUNDLGNBQWMsQ0FBQzNDLE1BQU0sRUFBRSxrQkFBa0IsRUFBRTtFQUNoRDZDLEtBQUssRUFBRXpELElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUMsQ0FBQzhDLGtCQUFrQixDQUFDLE9BQU87SUFDekNvQixnQkFBZ0IsRUFBRW5FLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUMsQ0FBQ21FLGVBQWUsQ0FBQyxFQUFFO0VBQ2hELENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQzs7QUFFRjtBQUNBZCxNQUFNLENBQUNDLGNBQWMsQ0FBQzNDLE1BQU0sRUFBRSxVQUFVLEVBQUU7RUFDeEM2QyxLQUFLLEVBQUV6RCxJQUFJLENBQUNDLEVBQUUsQ0FBQztBQUNqQixDQUFDLENBQUM7O0FBRUY7QUFDQUosTUFBTSxDQUFDd0UscUJBQXFCLEdBQUdyRSxJQUFJLENBQUNDLEVBQUUsQ0FBQzZCLFFBQVEsSUFBSTtFQUNqRCxPQUFPRCxVQUFVLENBQUNDLFFBQVEsRUFBRSxDQUFDLENBQUM7QUFDaEMsQ0FBQyxDQUFDO0FBRUZqQyxNQUFNLENBQUN5RSxvQkFBb0IsR0FBR3RFLElBQUksQ0FBQ0MsRUFBRSxDQUFDc0UsRUFBRSxJQUFJO0VBQzFDdEMsWUFBWSxDQUFDc0MsRUFBRSxDQUFDO0FBQ2xCLENBQUMsQ0FBQzs7QUFFRjtBQUNBakIsTUFBTSxDQUFDQyxjQUFjLENBQUMxRCxNQUFNLEVBQUUsUUFBUSxFQUFFO0VBQ3RDNEQsS0FBSyxFQUFFO0lBQ0xlLFVBQVUsRUFBRXhFLElBQUksQ0FBQ0MsRUFBRSxDQUFDLE1BQU0sMEJBQTBCLENBQUM7SUFDckR3RSxlQUFlLEVBQUV6RSxJQUFJLENBQUNDLEVBQUUsQ0FBRXlFLEtBQUssSUFBSztNQUNsQyxLQUFLLElBQUlDLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR0QsS0FBSyxDQUFDRSxNQUFNLEVBQUVELENBQUMsRUFBRSxFQUFFO1FBQ3JDRCxLQUFLLENBQUNDLENBQUMsQ0FBQyxHQUFHRSxJQUFJLENBQUNDLEtBQUssQ0FBQ0QsSUFBSSxDQUFDRSxNQUFNLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztNQUM1QztNQUNBLE9BQU9MLEtBQUs7SUFDZCxDQUFDO0VBQ0g7QUFDRixDQUFDLENBQUM7O0FBRUY7QUFDQTdFLE1BQU0sQ0FBQ21GLElBQUksR0FBRztFQUNaLEdBQUduRixNQUFNLENBQUNtRixJQUFJO0VBQ2RDLFlBQVksRUFBRWpGLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUMsQ0FBQzhDLGtCQUFrQixDQUFDLENBQUNtQyxNQUFNLEVBQUVDLE9BQU8sS0FBSztJQUM5RCxPQUFPO01BQ0xDLE1BQU0sRUFBR0MsTUFBTSxJQUFLO1FBQ2xCLElBQUlILE1BQU0sS0FBSyxPQUFPLElBQUlDLE9BQU8sRUFBRUcsS0FBSyxLQUFLLFVBQVUsRUFBRTtVQUN2RCxPQUFPLElBQUlELE1BQU0sQ0FBQ0UsY0FBYyxDQUFDLE9BQU8sRUFBRTtZQUFFQyxxQkFBcUIsRUFBRSxDQUFDO1lBQUVDLHFCQUFxQixFQUFFO1VBQUUsQ0FBQyxDQUFDLEVBQUU7UUFDckc7UUFDQSxPQUFPSixNQUFNLENBQUNLLFFBQVEsQ0FBQyxDQUFDO01BQzFCLENBQUM7TUFDREMsZUFBZSxFQUFFQSxDQUFBLE1BQU87UUFDdEJULE1BQU0sRUFBRUEsTUFBTSxJQUFJLE9BQU87UUFDekJVLFFBQVEsRUFBRVQsT0FBTyxFQUFFUyxRQUFRLElBQUksS0FBSztRQUNwQ04sS0FBSyxFQUFFSCxPQUFPLEVBQUVHLEtBQUssSUFBSSxVQUFVO1FBQ25DRSxxQkFBcUIsRUFBRUwsT0FBTyxFQUFFSyxxQkFBcUIsSUFBSSxDQUFDO1FBQzFEQyxxQkFBcUIsRUFBRU4sT0FBTyxFQUFFTSxxQkFBcUIsSUFBSTtNQUMzRCxDQUFDO0lBQ0gsQ0FBQztFQUNILENBQUM7QUFDSCxDQUFDOztBQUVEO0FBQ0EsTUFBTUksUUFBUSxHQUFHLElBQUlDLElBQUksQ0FBQywwQkFBMEIsQ0FBQztBQUNyRGpHLE1BQU0sQ0FBQ2lHLElBQUksR0FBRzlGLElBQUksQ0FBQ0MsRUFBRSxDQUFDLE1BQU00RixRQUFRLENBQUM7QUFDckN2QyxNQUFNLENBQUM3QixNQUFNLENBQUM1QixNQUFNLENBQUNpRyxJQUFJLEVBQUU7RUFDekJDLEdBQUcsRUFBRS9GLElBQUksQ0FBQ0MsRUFBRSxDQUFDLE1BQU00RixRQUFRLENBQUNHLE9BQU8sQ0FBQyxDQUFDLENBQUM7RUFDdENDLEtBQUssRUFBRWpHLElBQUksQ0FBQ0MsRUFBRSxDQUFDNkYsSUFBSSxDQUFDRyxLQUFLLENBQUM7RUFDMUJDLEdBQUcsRUFBRWxHLElBQUksQ0FBQ0MsRUFBRSxDQUFDNkYsSUFBSSxDQUFDSSxHQUFHO0FBQ3ZCLENBQUMsQ0FBQzs7QUFFRjtBQUNBckcsTUFBTSxDQUFDc0csV0FBVyxHQUFHO0VBQ25CSixHQUFHLEVBQUUvRixJQUFJLENBQUNDLEVBQUUsQ0FBQyxNQUFNLFVBQVUsQ0FBQztFQUM5Qm1HLElBQUksRUFBRXBHLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7RUFDZm9HLE9BQU8sRUFBRXJHLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7RUFDbEJxRyxnQkFBZ0IsRUFBRXRHLElBQUksQ0FBQ0MsRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDO0VBQ25Dc0csZ0JBQWdCLEVBQUV2RyxJQUFJLENBQUNDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQztFQUNuQ3VHLFVBQVUsRUFBRXhHLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7RUFDckJ3RyxhQUFhLEVBQUV6RyxJQUFJLENBQUNDLEVBQUUsQ0FBQztBQUN6QixDQUFDOztBQUVEO0FBQ0FKLE1BQU0sQ0FBQzZHLGlCQUFpQixHQUFHLENBQUNDLE9BQU8sR0FBRyxLQUFLLEVBQUVDLFVBQVUsR0FBRyxDQUFDLENBQUMsS0FBSztFQUMvRCxNQUFNQyxPQUFPLEdBQUc7SUFDZEYsT0FBTyxFQUFFQSxPQUFPLENBQUNHLFdBQVcsQ0FBQyxDQUFDO0lBQzlCQyxXQUFXLEVBQUUsRUFBRTtJQUNmQyxTQUFTLEVBQUUsRUFBRTtJQUNiQyxTQUFTLEVBQUUsRUFBRTtJQUNiM0IsS0FBSyxFQUFFLENBQUMsQ0FBQztJQUNUNEIsUUFBUSxFQUFFLEVBQUU7SUFDWkMsVUFBVSxFQUFFLElBQUk7SUFDaEJDLE9BQU8sRUFBRSxDQUFDLENBQUM7SUFDWDNELEtBQUssRUFBRSxFQUFFO0lBQ1Q0RCxPQUFPLEVBQUUsS0FBSztJQUNkQyxRQUFRLEVBQUUsS0FBSztJQUNmQyxNQUFNLEVBQUUsS0FBSztJQUNiQyxjQUFjLEVBQUUsQ0FBQyxDQUFDO0lBQ2xCLEdBQUdaO0VBQ0wsQ0FBQztFQUVEQyxPQUFPLENBQUM3QyxnQkFBZ0IsR0FBR2hFLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUN3SCxLQUFLLEVBQUUzRixRQUFRLEtBQUs7SUFDdEQsSUFBSSxDQUFDK0UsT0FBTyxDQUFDVyxjQUFjLENBQUNDLEtBQUssQ0FBQyxFQUFFO01BQ2xDWixPQUFPLENBQUNXLGNBQWMsQ0FBQ0MsS0FBSyxDQUFDLEdBQUcsRUFBRTtJQUNwQztJQUNBWixPQUFPLENBQUNXLGNBQWMsQ0FBQ0MsS0FBSyxDQUFDLENBQUNDLElBQUksQ0FBQzVGLFFBQVEsQ0FBQztFQUM5QyxDQUFDLENBQUM7RUFFRitFLE9BQU8sQ0FBQzVDLG1CQUFtQixHQUFHakUsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQ3dILEtBQUssRUFBRTNGLFFBQVEsS0FBSztJQUN6RCxJQUFJK0UsT0FBTyxDQUFDVyxjQUFjLENBQUNDLEtBQUssQ0FBQyxFQUFFO01BQ2pDWixPQUFPLENBQUNXLGNBQWMsQ0FBQ0MsS0FBSyxDQUFDLEdBQUdaLE9BQU8sQ0FBQ1csY0FBYyxDQUFDQyxLQUFLLENBQUMsQ0FBQ0UsTUFBTSxDQUFDQyxFQUFFLElBQUlBLEVBQUUsS0FBSzlGLFFBQVEsQ0FBQztJQUM3RjtFQUNGLENBQUMsQ0FBQztFQUVGK0UsT0FBTyxDQUFDZ0IsV0FBVyxHQUFHN0gsSUFBSSxDQUFDQyxFQUFFLENBQUU2SCxLQUFLLElBQUs7SUFDdkNqQixPQUFPLENBQUNLLFFBQVEsQ0FBQ1EsSUFBSSxDQUFDSSxLQUFLLENBQUM7SUFDNUJBLEtBQUssQ0FBQ1gsVUFBVSxHQUFHTixPQUFPO0lBQzFCLE9BQU9pQixLQUFLO0VBQ2QsQ0FBQyxDQUFDO0VBRUZqQixPQUFPLENBQUNrQixXQUFXLEdBQUcvSCxJQUFJLENBQUNDLEVBQUUsQ0FBRTZILEtBQUssSUFBSztJQUN2QyxNQUFNRSxLQUFLLEdBQUduQixPQUFPLENBQUNLLFFBQVEsQ0FBQ2UsT0FBTyxDQUFDSCxLQUFLLENBQUM7SUFDN0MsSUFBSUUsS0FBSyxHQUFHLENBQUMsQ0FBQyxFQUFFO01BQ2RuQixPQUFPLENBQUNLLFFBQVEsQ0FBQ2dCLE1BQU0sQ0FBQ0YsS0FBSyxFQUFFLENBQUMsQ0FBQztNQUNqQ0YsS0FBSyxDQUFDWCxVQUFVLEdBQUcsSUFBSTtJQUN6QjtJQUNBLE9BQU9XLEtBQUs7RUFDZCxDQUFDLENBQUM7RUFFRmpCLE9BQU8sQ0FBQ3NCLGFBQWEsR0FBR25JLElBQUksQ0FBQ0MsRUFBRSxDQUFFbUksUUFBUSxJQUFLO0lBQzVDLE9BQU92QixPQUFPLENBQUNLLFFBQVEsQ0FBQ21CLElBQUksQ0FBQ1AsS0FBSyxJQUFJQSxLQUFLLENBQUNiLFNBQVMsRUFBRXFCLFFBQVEsQ0FBQ0YsUUFBUSxDQUFDRyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztFQUN6RixDQUFDLENBQUM7RUFFRjFCLE9BQU8sQ0FBQzJCLGdCQUFnQixHQUFHeEksSUFBSSxDQUFDQyxFQUFFLENBQUVtSSxRQUFRLElBQUs7SUFDL0MsT0FBT3ZCLE9BQU8sQ0FBQ0ssUUFBUSxDQUFDUyxNQUFNLENBQUNHLEtBQUssSUFBSUEsS0FBSyxDQUFDYixTQUFTLEVBQUVxQixRQUFRLENBQUNGLFFBQVEsQ0FBQ0csU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7RUFDM0YsQ0FBQyxDQUFDO0VBRUYxQixPQUFPLENBQUM0QixZQUFZLEdBQUd6SSxJQUFJLENBQUNDLEVBQUUsQ0FBRXlJLElBQUksSUFBSztJQUN2QyxPQUFPN0IsT0FBTyxDQUFDTyxPQUFPLENBQUNzQixJQUFJLENBQUMsSUFBSSxJQUFJO0VBQ3RDLENBQUMsQ0FBQztFQUVGN0IsT0FBTyxDQUFDOEIsWUFBWSxHQUFHM0ksSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQ3lJLElBQUksRUFBRWpGLEtBQUssS0FBSztJQUM5Q29ELE9BQU8sQ0FBQ08sT0FBTyxDQUFDc0IsSUFBSSxDQUFDLEdBQUdqRixLQUFLO0VBQy9CLENBQUMsQ0FBQztFQUVGb0QsT0FBTyxDQUFDK0IsS0FBSyxHQUFHNUksSUFBSSxDQUFDQyxFQUFFLENBQUMsTUFBTTtJQUM1QjRHLE9BQU8sQ0FBQ2dDLE9BQU8sR0FBRyxJQUFJO0VBQ3hCLENBQUMsQ0FBQztFQUVGaEMsT0FBTyxDQUFDaUMsSUFBSSxHQUFHOUksSUFBSSxDQUFDQyxFQUFFLENBQUMsTUFBTTtJQUMzQjRHLE9BQU8sQ0FBQ2dDLE9BQU8sR0FBRyxLQUFLO0VBQ3pCLENBQUMsQ0FBQztFQUVGaEMsT0FBTyxDQUFDa0MsS0FBSyxHQUFHL0ksSUFBSSxDQUFDQyxFQUFFLENBQUMsTUFBTTtJQUM1QixJQUFJNEcsT0FBTyxDQUFDVyxjQUFjLENBQUN1QixLQUFLLEVBQUU7TUFDaENsQyxPQUFPLENBQUNXLGNBQWMsQ0FBQ3VCLEtBQUssQ0FBQ0MsT0FBTyxDQUFDbEgsUUFBUSxJQUFJQSxRQUFRLENBQUMsQ0FBQyxDQUFDO0lBQzlEO0VBQ0YsQ0FBQyxDQUFDO0VBRUYsT0FBTytFLE9BQU87QUFDaEIsQ0FBQzs7QUFFRDtBQUNBaEgsTUFBTSxDQUFDb0osa0JBQWtCLEdBQUcsTUFBTTtFQUNoQyxNQUFNQyxRQUFRLEdBQUcsQ0FBQyxDQUFDO0VBRW5CLE9BQU87SUFDTEEsUUFBUTtJQUNSQyxjQUFjLEVBQUVuSixJQUFJLENBQUNDLEVBQUUsQ0FBRXNFLEVBQUUsSUFBSztNQUM5QixJQUFJLENBQUMyRSxRQUFRLENBQUMzRSxFQUFFLENBQUMsRUFBRTtRQUNqQjJFLFFBQVEsQ0FBQzNFLEVBQUUsQ0FBQyxHQUFHbUMsaUJBQWlCLENBQUMsQ0FBQztNQUNwQztNQUNBLE9BQU93QyxRQUFRLENBQUMzRSxFQUFFLENBQUM7SUFDckIsQ0FBQyxDQUFDO0lBQ0Y2RSxhQUFhLEVBQUVwSixJQUFJLENBQUNDLEVBQUUsQ0FBRTBHLE9BQU8sSUFBSztNQUNsQyxPQUFPRCxpQkFBaUIsQ0FBQ0MsT0FBTyxDQUFDO0lBQ25DLENBQUMsQ0FBQztJQUNGMEMsY0FBYyxFQUFFckosSUFBSSxDQUFDQyxFQUFFLENBQUV3QyxJQUFJLElBQUs7TUFDaEMsTUFBTTZHLElBQUksR0FBRzVDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQztNQUN0QzRDLElBQUksQ0FBQ3ZDLFdBQVcsR0FBR3RFLElBQUk7TUFDdkIsT0FBTzZHLElBQUk7SUFDYixDQUFDLENBQUM7SUFDRm5CLGFBQWEsRUFBRW5JLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7SUFDeEJ1SSxnQkFBZ0IsRUFBRXhJLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7SUFDM0IrRCxnQkFBZ0IsRUFBRWhFLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7SUFDM0JnRSxtQkFBbUIsRUFBRWpFLElBQUksQ0FBQ0MsRUFBRSxDQUFDO0VBQy9CLENBQUM7QUFDSCxDQUFDOztBQUVEO0FBQ0FzSixNQUFNLENBQUNDLE1BQU0sQ0FBQztFQUNaQyxpQkFBaUJBLENBQUNDLFFBQVEsRUFBRTtJQUMxQixNQUFNQyxJQUFJLEdBQUcsYUFBYSxDQUFDQyxJQUFJLENBQUNGLFFBQVEsQ0FBQztJQUN6QyxJQUFJQyxJQUFJLEVBQUU7TUFDUixPQUFPO1FBQ0xFLE9BQU8sRUFBRUEsQ0FBQSxLQUFNLFlBQVlILFFBQVEsa0NBQWtDO1FBQ3JFQyxJQUFJLEVBQUU7TUFDUixDQUFDO0lBQ0gsQ0FBQyxNQUFNO01BQ0wsT0FBTztRQUNMRSxPQUFPLEVBQUVBLENBQUEsS0FBTSxZQUFZSCxRQUFRLDhCQUE4QjtRQUNqRUMsSUFBSSxFQUFFO01BQ1IsQ0FBQztJQUNIO0VBQ0YsQ0FBQztFQUVERyxrQkFBa0JBLENBQUNKLFFBQVEsRUFBRTtJQUMzQixNQUFNQyxJQUFJLEdBQUcsT0FBT0QsUUFBUSxLQUFLLFFBQVEsSUFBSUEsUUFBUSxHQUFHLENBQUMsSUFBSUssUUFBUSxDQUFDTCxRQUFRLENBQUM7SUFDL0UsSUFBSUMsSUFBSSxFQUFFO01BQ1IsT0FBTztRQUNMRSxPQUFPLEVBQUVBLENBQUEsS0FBTSxZQUFZSCxRQUFRLDhCQUE4QjtRQUNqRUMsSUFBSSxFQUFFO01BQ1IsQ0FBQztJQUNILENBQUMsTUFBTTtNQUNMLE9BQU87UUFDTEUsT0FBTyxFQUFFQSxDQUFBLEtBQU0sWUFBWUgsUUFBUSwwQkFBMEI7UUFDN0RDLElBQUksRUFBRTtNQUNSLENBQUM7SUFDSDtFQUNGO0FBQ0YsQ0FBQyxDQUFDOztBQUVGO0FBQ0EzSixJQUFJLENBQUM2QixVQUFVLENBQUMsS0FBSyxDQUFDOztBQUV0QjtBQUNBbUksU0FBUyxDQUFDLE1BQU07RUFDZGhLLElBQUksQ0FBQ2lLLGFBQWEsQ0FBQyxDQUFDO0VBQ3BCeEosWUFBWSxDQUFDRCxLQUFLLENBQUMsQ0FBQztFQUNwQkcsY0FBYyxDQUFDSCxLQUFLLENBQUMsQ0FBQztBQUN4QixDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=
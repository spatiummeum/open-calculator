d31650eaa83a7b6514105725858aae65
"use strict";

/**
 * TESTS DE FORMATEO DE MONEDA
 * Pruebas para verificar el formateo correcto de moneda chilena (CLP)
 */

describe('Formateo de Moneda Chilena (CLP)', () => {
  // Mock de Intl.NumberFormat para testing
  const mockFormatCurrency = amount => {
    return new Intl.NumberFormat('es-CL', {
      style: 'currency',
      currency: 'CLP',
      minimumFractionDigits: 2,
      maximumFractionDigits: 2
    }).format(amount);
  };
  describe('Formateo Básico', () => {
    test('Debe formatear números enteros correctamente', () => {
      const testCases = [{
        input: 1000,
        expected: /^\$1\.000,00$/
      }, {
        input: 10000,
        expected: /^\$10\.000,00$/
      }, {
        input: 100000,
        expected: /^\$100\.000,00$/
      }, {
        input: 1000000,
        expected: /^\$1\.000\.000,00$/
      }];
      testCases.forEach(({
        input,
        expected
      }) => {
        const result = mockFormatCurrency(input);
        expect(result).toMatch(expected);
      });
    });
    test('Debe formatear números decimales correctamente', () => {
      const testCases = [{
        input: 1000.50,
        expected: /^\$1\.000,50$/
      }, {
        input: 10000.25,
        expected: /^\$10\.000,25$/
      }, {
        input: 100000.99,
        expected: /^\$100\.000,99$/
      }, {
        input: 1000000.01,
        expected: /^\$1\.000\.000,01$/
      }];
      testCases.forEach(({
        input,
        expected
      }) => {
        const result = mockFormatCurrency(input);
        expect(result).toMatch(expected);
      });
    });
    test('Debe formatear números muy pequeños', () => {
      const testCases = [{
        input: 0.01,
        expected: /^\$0,01$/
      }, {
        input: 0.50,
        expected: /^\$0,50$/
      }, {
        input: 1,
        expected: /^\$1,00$/
      }, {
        input: 10,
        expected: /^\$10,00$/
      }];
      testCases.forEach(({
        input,
        expected
      }) => {
        const result = mockFormatCurrency(input);
        expect(result).toMatch(expected);
      });
    });
  });
  describe('Formateo de Números Grandes', () => {
    test('Debe formatear millones correctamente', () => {
      const testCases = [{
        input: 1000000,
        expected: /^\$1\.000\.000,00$/
      }, {
        input: 5000000,
        expected: /^\$5\.000\.000,00$/
      }, {
        input: 10000000,
        expected: /^\$10\.000\.000,00$/
      }, {
        input: 100000000,
        expected: /^\$100\.000\.000,00$/
      }];
      testCases.forEach(({
        input,
        expected
      }) => {
        const result = mockFormatCurrency(input);
        expect(result).toMatch(expected);
      });
    });
    test('Debe formatear miles de millones correctamente', () => {
      const testCases = [{
        input: 1000000000,
        expected: /^\$1\.000\.000\.000,00$/
      }, {
        input: 5000000000,
        expected: /^\$5\.000\.000\.000,00$/
      }, {
        input: 10000000000,
        expected: /^\$10\.000\.000\.000,00$/
      }];
      testCases.forEach(({
        input,
        expected
      }) => {
        const result = mockFormatCurrency(input);
        expect(result).toMatch(expected);
      });
    });
  });
  describe('Manejo de Decimales', () => {
    test('Debe redondear a 2 decimales', () => {
      const testCases = [{
        input: 1000.126,
        expected: /^\$1\.000,13$/
      }, {
        input: 1000.124,
        expected: /^\$1\.000,12$/
      }, {
        input: 1000.999,
        expected: /^\$1\.001,00$/
      }, {
        input: 1000.001,
        expected: /^\$1\.000,00$/
      }];
      testCases.forEach(({
        input,
        expected
      }) => {
        const result = mockFormatCurrency(input);
        expect(result).toMatch(expected);
      });
    });
    test('Debe agregar .00 cuando no hay decimales', () => {
      const testCases = [1000, 5000, 10000, 100000];
      testCases.forEach(input => {
        const result = mockFormatCurrency(input);
        expect(result).toMatch(/,00$/);
      });
    });
    test('Debe manejar un solo decimal', () => {
      const testCases = [{
        input: 1000.1,
        expected: /^\$1\.000,10$/
      }, {
        input: 1000.5,
        expected: /^\$1\.000,50$/
      }, {
        input: 1000.9,
        expected: /^\$1\.000,90$/
      }];
      testCases.forEach(({
        input,
        expected
      }) => {
        const result = mockFormatCurrency(input);
        expect(result).toMatch(expected);
      });
    });
  });
  describe('Casos Edge', () => {
    test('Debe manejar cero correctamente', () => {
      const result = mockFormatCurrency(0);
      expect(result).toMatch(/^\$0,00$/);
    });
    test('Debe manejar números negativos', () => {
      const testCases = [{
        input: -1000,
        expected: /^-\$1\.000,00$/
      }, {
        input: -10000.50,
        expected: /^-\$10\.000,50$/
      }];
      testCases.forEach(({
        input,
        expected
      }) => {
        const result = mockFormatCurrency(input);
        expect(result).toMatch(expected);
      });
    });
    test('Debe manejar números muy precisos', () => {
      const testCases = [{
        input: 1000.33333333,
        expected: /^\$1\.000,33$/
      }, {
        input: 1000.66666666,
        expected: /^\$1\.000,67$/
      }, {
        input: 1000.99999999,
        expected: /^\$1\.001,00$/
      }];
      testCases.forEach(({
        input,
        expected
      }) => {
        const result = mockFormatCurrency(input);
        expect(result).toMatch(expected);
      });
    });
  });
  describe('Consistencia de Formato', () => {
    test('Debe usar punto como separador de miles', () => {
      const result = mockFormatCurrency(1000000);
      expect(result).toMatch(/1\.000\.000/);
    });
    test('Debe usar coma como separador decimal', () => {
      const result = mockFormatCurrency(1000.50);
      expect(result).toMatch(/1\.000,50/);
    });
    test('Debe incluir símbolo de peso ($)', () => {
      const result = mockFormatCurrency(1000);
      expect(result).toMatch(/^\$/);
    });
    test('Debe mantener formato consistente para diferentes rangos', () => {
      const testCases = [1000.50, 10000.50, 100000.50, 1000000.50];
      testCases.forEach(input => {
        const result = mockFormatCurrency(input);
        expect(result).toMatch(/^\$[\d\.]+,50$/);
      });
    });
  });
  describe('Casos de Uso Específicos de la Aplicación', () => {
    test('Debe formatear correctamente resultados de descuentos', () => {
      // Valores típicos que se generan en la aplicación
      const testCases = [{
        input: 1190,
        expected: /^\$1\.190,00$/
      },
      // 1000 + 19% IVA
      {
        input: 2380,
        expected: /^\$2\.380,00$/
      },
      // 2000 + 19% IVA
      {
        input: 1190.595,
        expected: /^\$1\.190,60$/
      },
      // 1000.50 + 19% IVA
      {
        input: 5950,
        expected: /^\$5\.950,00$/
      } // Descuento total ejemplo
      ];
      testCases.forEach(({
        input,
        expected
      }) => {
        const result = mockFormatCurrency(input);
        expect(result).toMatch(expected);
      });
    });
    test('Debe formatear valores de factura típicos', () => {
      const testCases = [{
        input: 50000,
        expected: /^\$50\.000,00$/
      }, {
        input: 100000,
        expected: /^\$100\.000,00$/
      }, {
        input: 500000,
        expected: /^\$500\.000,00$/
      }, {
        input: 1000000,
        expected: /^\$1\.000\.000,00$/
      }];
      testCases.forEach(({
        input,
        expected
      }) => {
        const result = mockFormatCurrency(input);
        expect(result).toMatch(expected);
      });
    });
    test('Debe formatear valores de productos típicos', () => {
      const testCases = [{
        input: 1000,
        expected: /^\$1\.000,00$/
      }, {
        input: 2500.50,
        expected: /^\$2\.500,50$/
      }, {
        input: 5000,
        expected: /^\$5\.000,00$/
      }, {
        input: 10000.25,
        expected: /^\$10\.000,25$/
      }];
      testCases.forEach(({
        input,
        expected
      }) => {
        const result = mockFormatCurrency(input);
        expect(result).toMatch(expected);
      });
    });
  });
  describe('Validación de Configuración', () => {
    test('Debe usar configuración correcta para es-CL', () => {
      const formatter = new Intl.NumberFormat('es-CL', {
        style: 'currency',
        currency: 'CLP',
        minimumFractionDigits: 2,
        maximumFractionDigits: 2
      });
      const options = formatter.resolvedOptions();
      expect(options.locale).toBe('es-CL');
      expect(options.currency).toBe('CLP');
      expect(options.minimumFractionDigits).toBe(2);
      expect(options.maximumFractionDigits).toBe(2);
    });
    test('Debe producir resultado consistente', () => {
      const value = 1000.50;
      const result1 = mockFormatCurrency(value);
      const result2 = mockFormatCurrency(value);
      expect(result1).toBe(result2);
    });
  });
  describe('Performance y Robustez', () => {
    test('Debe manejar múltiples llamadas sin problemas', () => {
      const values = [1000, 2000, 3000, 4000, 5000];
      const results = values.map(value => mockFormatCurrency(value));
      expect(results).toHaveLength(5);
      results.forEach(result => {
        expect(typeof result).toBe('string');
        expect(result).toMatch(/^\$/);
      });
    });
    test('Debe manejar valores extremos sin errores', () => {
      const extremeValues = [0.01, 999999999.99, 0, -1000];
      extremeValues.forEach(value => {
        expect(() => mockFormatCurrency(value)).not.toThrow();
      });
    });
  });
});
describe('Integración con Cálculos', () => {
  test('Debe formatear correctamente resultados de cálculos con IVA', () => {
    const IVA_RATE = 0.19;
    const product = {
      value: 1000,
      isHalf: false
    };
    const baseValue = product.isHalf ? product.value / 2 : product.value;
    const valueWithIva = baseValue * (1 + IVA_RATE);
    const formatted = mockFormatCurrency(valueWithIva);
    expect(formatted).toMatch(/^\$1\.190,00$/);
  });
  test('Debe formatear correctamente nuevos totales de factura', () => {
    const originalTotal = 100000;
    const discount = 5950;
    const newTotal = originalTotal - discount;
    const formatted = mockFormatCurrency(newTotal);
    expect(formatted).toMatch(/^\$94\.050,00$/);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkZXNjcmliZSIsIm1vY2tGb3JtYXRDdXJyZW5jeSIsImFtb3VudCIsIkludGwiLCJOdW1iZXJGb3JtYXQiLCJzdHlsZSIsImN1cnJlbmN5IiwibWluaW11bUZyYWN0aW9uRGlnaXRzIiwibWF4aW11bUZyYWN0aW9uRGlnaXRzIiwiZm9ybWF0IiwidGVzdCIsInRlc3RDYXNlcyIsImlucHV0IiwiZXhwZWN0ZWQiLCJmb3JFYWNoIiwicmVzdWx0IiwiZXhwZWN0IiwidG9NYXRjaCIsImZvcm1hdHRlciIsIm9wdGlvbnMiLCJyZXNvbHZlZE9wdGlvbnMiLCJsb2NhbGUiLCJ0b0JlIiwidmFsdWUiLCJyZXN1bHQxIiwicmVzdWx0MiIsInZhbHVlcyIsInJlc3VsdHMiLCJtYXAiLCJ0b0hhdmVMZW5ndGgiLCJleHRyZW1lVmFsdWVzIiwibm90IiwidG9UaHJvdyIsIklWQV9SQVRFIiwicHJvZHVjdCIsImlzSGFsZiIsImJhc2VWYWx1ZSIsInZhbHVlV2l0aEl2YSIsImZvcm1hdHRlZCIsIm9yaWdpbmFsVG90YWwiLCJkaXNjb3VudCIsIm5ld1RvdGFsIl0sInNvdXJjZXMiOlsiY3VycmVuY3kudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRFU1RTIERFIEZPUk1BVEVPIERFIE1PTkVEQVxuICogUHJ1ZWJhcyBwYXJhIHZlcmlmaWNhciBlbCBmb3JtYXRlbyBjb3JyZWN0byBkZSBtb25lZGEgY2hpbGVuYSAoQ0xQKVxuICovXG5cbmRlc2NyaWJlKCdGb3JtYXRlbyBkZSBNb25lZGEgQ2hpbGVuYSAoQ0xQKScsICgpID0+IHtcbiAgXG4gIC8vIE1vY2sgZGUgSW50bC5OdW1iZXJGb3JtYXQgcGFyYSB0ZXN0aW5nXG4gIGNvbnN0IG1vY2tGb3JtYXRDdXJyZW5jeSA9IChhbW91bnQpID0+IHtcbiAgICByZXR1cm4gbmV3IEludGwuTnVtYmVyRm9ybWF0KCdlcy1DTCcsIHsgXG4gICAgICBzdHlsZTogJ2N1cnJlbmN5JywgXG4gICAgICBjdXJyZW5jeTogJ0NMUCcsXG4gICAgICBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDIsXG4gICAgICBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDJcbiAgICB9KS5mb3JtYXQoYW1vdW50KTtcbiAgfTtcbiAgXG4gIGRlc2NyaWJlKCdGb3JtYXRlbyBCw6FzaWNvJywgKCkgPT4ge1xuICAgIFxuICAgIHRlc3QoJ0RlYmUgZm9ybWF0ZWFyIG7Dum1lcm9zIGVudGVyb3MgY29ycmVjdGFtZW50ZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHRlc3RDYXNlcyA9IFtcbiAgICAgICAgeyBpbnB1dDogMTAwMCwgZXhwZWN0ZWQ6IC9eXFwkMVxcLjAwMCwwMCQvIH0sXG4gICAgICAgIHsgaW5wdXQ6IDEwMDAwLCBleHBlY3RlZDogL15cXCQxMFxcLjAwMCwwMCQvIH0sXG4gICAgICAgIHsgaW5wdXQ6IDEwMDAwMCwgZXhwZWN0ZWQ6IC9eXFwkMTAwXFwuMDAwLDAwJC8gfSxcbiAgICAgICAgeyBpbnB1dDogMTAwMDAwMCwgZXhwZWN0ZWQ6IC9eXFwkMVxcLjAwMFxcLjAwMCwwMCQvIH1cbiAgICAgIF07XG4gICAgICBcbiAgICAgIHRlc3RDYXNlcy5mb3JFYWNoKCh7IGlucHV0LCBleHBlY3RlZCB9KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG1vY2tGb3JtYXRDdXJyZW5jeShpbnB1dCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQpLnRvTWF0Y2goZXhwZWN0ZWQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgXG4gICAgdGVzdCgnRGViZSBmb3JtYXRlYXIgbsO6bWVyb3MgZGVjaW1hbGVzIGNvcnJlY3RhbWVudGUnLCAoKSA9PiB7XG4gICAgICBjb25zdCB0ZXN0Q2FzZXMgPSBbXG4gICAgICAgIHsgaW5wdXQ6IDEwMDAuNTAsIGV4cGVjdGVkOiAvXlxcJDFcXC4wMDAsNTAkLyB9LFxuICAgICAgICB7IGlucHV0OiAxMDAwMC4yNSwgZXhwZWN0ZWQ6IC9eXFwkMTBcXC4wMDAsMjUkLyB9LFxuICAgICAgICB7IGlucHV0OiAxMDAwMDAuOTksIGV4cGVjdGVkOiAvXlxcJDEwMFxcLjAwMCw5OSQvIH0sXG4gICAgICAgIHsgaW5wdXQ6IDEwMDAwMDAuMDEsIGV4cGVjdGVkOiAvXlxcJDFcXC4wMDBcXC4wMDAsMDEkLyB9XG4gICAgICBdO1xuICAgICAgXG4gICAgICB0ZXN0Q2FzZXMuZm9yRWFjaCgoeyBpbnB1dCwgZXhwZWN0ZWQgfSkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBtb2NrRm9ybWF0Q3VycmVuY3koaW5wdXQpO1xuICAgICAgICBleHBlY3QocmVzdWx0KS50b01hdGNoKGV4cGVjdGVkKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIFxuICAgIHRlc3QoJ0RlYmUgZm9ybWF0ZWFyIG7Dum1lcm9zIG11eSBwZXF1ZcOxb3MnLCAoKSA9PiB7XG4gICAgICBjb25zdCB0ZXN0Q2FzZXMgPSBbXG4gICAgICAgIHsgaW5wdXQ6IDAuMDEsIGV4cGVjdGVkOiAvXlxcJDAsMDEkLyB9LFxuICAgICAgICB7IGlucHV0OiAwLjUwLCBleHBlY3RlZDogL15cXCQwLDUwJC8gfSxcbiAgICAgICAgeyBpbnB1dDogMSwgZXhwZWN0ZWQ6IC9eXFwkMSwwMCQvIH0sXG4gICAgICAgIHsgaW5wdXQ6IDEwLCBleHBlY3RlZDogL15cXCQxMCwwMCQvIH1cbiAgICAgIF07XG4gICAgICBcbiAgICAgIHRlc3RDYXNlcy5mb3JFYWNoKCh7IGlucHV0LCBleHBlY3RlZCB9KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG1vY2tGb3JtYXRDdXJyZW5jeShpbnB1dCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQpLnRvTWF0Y2goZXhwZWN0ZWQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuICBcbiAgZGVzY3JpYmUoJ0Zvcm1hdGVvIGRlIE7Dum1lcm9zIEdyYW5kZXMnLCAoKSA9PiB7XG4gICAgXG4gICAgdGVzdCgnRGViZSBmb3JtYXRlYXIgbWlsbG9uZXMgY29ycmVjdGFtZW50ZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHRlc3RDYXNlcyA9IFtcbiAgICAgICAgeyBpbnB1dDogMTAwMDAwMCwgZXhwZWN0ZWQ6IC9eXFwkMVxcLjAwMFxcLjAwMCwwMCQvIH0sXG4gICAgICAgIHsgaW5wdXQ6IDUwMDAwMDAsIGV4cGVjdGVkOiAvXlxcJDVcXC4wMDBcXC4wMDAsMDAkLyB9LFxuICAgICAgICB7IGlucHV0OiAxMDAwMDAwMCwgZXhwZWN0ZWQ6IC9eXFwkMTBcXC4wMDBcXC4wMDAsMDAkLyB9LFxuICAgICAgICB7IGlucHV0OiAxMDAwMDAwMDAsIGV4cGVjdGVkOiAvXlxcJDEwMFxcLjAwMFxcLjAwMCwwMCQvIH1cbiAgICAgIF07XG4gICAgICBcbiAgICAgIHRlc3RDYXNlcy5mb3JFYWNoKCh7IGlucHV0LCBleHBlY3RlZCB9KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG1vY2tGb3JtYXRDdXJyZW5jeShpbnB1dCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQpLnRvTWF0Y2goZXhwZWN0ZWQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgXG4gICAgdGVzdCgnRGViZSBmb3JtYXRlYXIgbWlsZXMgZGUgbWlsbG9uZXMgY29ycmVjdGFtZW50ZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHRlc3RDYXNlcyA9IFtcbiAgICAgICAgeyBpbnB1dDogMTAwMDAwMDAwMCwgZXhwZWN0ZWQ6IC9eXFwkMVxcLjAwMFxcLjAwMFxcLjAwMCwwMCQvIH0sXG4gICAgICAgIHsgaW5wdXQ6IDUwMDAwMDAwMDAsIGV4cGVjdGVkOiAvXlxcJDVcXC4wMDBcXC4wMDBcXC4wMDAsMDAkLyB9LFxuICAgICAgICB7IGlucHV0OiAxMDAwMDAwMDAwMCwgZXhwZWN0ZWQ6IC9eXFwkMTBcXC4wMDBcXC4wMDBcXC4wMDAsMDAkLyB9XG4gICAgICBdO1xuICAgICAgXG4gICAgICB0ZXN0Q2FzZXMuZm9yRWFjaCgoeyBpbnB1dCwgZXhwZWN0ZWQgfSkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBtb2NrRm9ybWF0Q3VycmVuY3koaW5wdXQpO1xuICAgICAgICBleHBlY3QocmVzdWx0KS50b01hdGNoKGV4cGVjdGVkKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgXG4gIGRlc2NyaWJlKCdNYW5lam8gZGUgRGVjaW1hbGVzJywgKCkgPT4ge1xuICAgIFxuICAgIHRlc3QoJ0RlYmUgcmVkb25kZWFyIGEgMiBkZWNpbWFsZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCB0ZXN0Q2FzZXMgPSBbXG4gICAgICAgIHsgaW5wdXQ6IDEwMDAuMTI2LCBleHBlY3RlZDogL15cXCQxXFwuMDAwLDEzJC8gfSxcbiAgICAgICAgeyBpbnB1dDogMTAwMC4xMjQsIGV4cGVjdGVkOiAvXlxcJDFcXC4wMDAsMTIkLyB9LFxuICAgICAgICB7IGlucHV0OiAxMDAwLjk5OSwgZXhwZWN0ZWQ6IC9eXFwkMVxcLjAwMSwwMCQvIH0sXG4gICAgICAgIHsgaW5wdXQ6IDEwMDAuMDAxLCBleHBlY3RlZDogL15cXCQxXFwuMDAwLDAwJC8gfVxuICAgICAgXTtcbiAgICAgIFxuICAgICAgdGVzdENhc2VzLmZvckVhY2goKHsgaW5wdXQsIGV4cGVjdGVkIH0pID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbW9ja0Zvcm1hdEN1cnJlbmN5KGlucHV0KTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9NYXRjaChleHBlY3RlZCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBcbiAgICB0ZXN0KCdEZWJlIGFncmVnYXIgLjAwIGN1YW5kbyBubyBoYXkgZGVjaW1hbGVzJywgKCkgPT4ge1xuICAgICAgY29uc3QgdGVzdENhc2VzID0gWzEwMDAsIDUwMDAsIDEwMDAwLCAxMDAwMDBdO1xuICAgICAgXG4gICAgICB0ZXN0Q2FzZXMuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG1vY2tGb3JtYXRDdXJyZW5jeShpbnB1dCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQpLnRvTWF0Y2goLywwMCQvKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIFxuICAgIHRlc3QoJ0RlYmUgbWFuZWphciB1biBzb2xvIGRlY2ltYWwnLCAoKSA9PiB7XG4gICAgICBjb25zdCB0ZXN0Q2FzZXMgPSBbXG4gICAgICAgIHsgaW5wdXQ6IDEwMDAuMSwgZXhwZWN0ZWQ6IC9eXFwkMVxcLjAwMCwxMCQvIH0sXG4gICAgICAgIHsgaW5wdXQ6IDEwMDAuNSwgZXhwZWN0ZWQ6IC9eXFwkMVxcLjAwMCw1MCQvIH0sXG4gICAgICAgIHsgaW5wdXQ6IDEwMDAuOSwgZXhwZWN0ZWQ6IC9eXFwkMVxcLjAwMCw5MCQvIH1cbiAgICAgIF07XG4gICAgICBcbiAgICAgIHRlc3RDYXNlcy5mb3JFYWNoKCh7IGlucHV0LCBleHBlY3RlZCB9KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG1vY2tGb3JtYXRDdXJyZW5jeShpbnB1dCk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQpLnRvTWF0Y2goZXhwZWN0ZWQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuICBcbiAgZGVzY3JpYmUoJ0Nhc29zIEVkZ2UnLCAoKSA9PiB7XG4gICAgXG4gICAgdGVzdCgnRGViZSBtYW5lamFyIGNlcm8gY29ycmVjdGFtZW50ZScsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IG1vY2tGb3JtYXRDdXJyZW5jeSgwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvTWF0Y2goL15cXCQwLDAwJC8pO1xuICAgIH0pO1xuICAgIFxuICAgIHRlc3QoJ0RlYmUgbWFuZWphciBuw7ptZXJvcyBuZWdhdGl2b3MnLCAoKSA9PiB7XG4gICAgICBjb25zdCB0ZXN0Q2FzZXMgPSBbXG4gICAgICAgIHsgaW5wdXQ6IC0xMDAwLCBleHBlY3RlZDogL14tXFwkMVxcLjAwMCwwMCQvIH0sXG4gICAgICAgIHsgaW5wdXQ6IC0xMDAwMC41MCwgZXhwZWN0ZWQ6IC9eLVxcJDEwXFwuMDAwLDUwJC8gfVxuICAgICAgXTtcbiAgICAgIFxuICAgICAgdGVzdENhc2VzLmZvckVhY2goKHsgaW5wdXQsIGV4cGVjdGVkIH0pID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbW9ja0Zvcm1hdEN1cnJlbmN5KGlucHV0KTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9NYXRjaChleHBlY3RlZCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBcbiAgICB0ZXN0KCdEZWJlIG1hbmVqYXIgbsO6bWVyb3MgbXV5IHByZWNpc29zJywgKCkgPT4ge1xuICAgICAgY29uc3QgdGVzdENhc2VzID0gW1xuICAgICAgICB7IGlucHV0OiAxMDAwLjMzMzMzMzMzLCBleHBlY3RlZDogL15cXCQxXFwuMDAwLDMzJC8gfSxcbiAgICAgICAgeyBpbnB1dDogMTAwMC42NjY2NjY2NiwgZXhwZWN0ZWQ6IC9eXFwkMVxcLjAwMCw2NyQvIH0sXG4gICAgICAgIHsgaW5wdXQ6IDEwMDAuOTk5OTk5OTksIGV4cGVjdGVkOiAvXlxcJDFcXC4wMDEsMDAkLyB9XG4gICAgICBdO1xuICAgICAgXG4gICAgICB0ZXN0Q2FzZXMuZm9yRWFjaCgoeyBpbnB1dCwgZXhwZWN0ZWQgfSkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBtb2NrRm9ybWF0Q3VycmVuY3koaW5wdXQpO1xuICAgICAgICBleHBlY3QocmVzdWx0KS50b01hdGNoKGV4cGVjdGVkKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgXG4gIGRlc2NyaWJlKCdDb25zaXN0ZW5jaWEgZGUgRm9ybWF0bycsICgpID0+IHtcbiAgICBcbiAgICB0ZXN0KCdEZWJlIHVzYXIgcHVudG8gY29tbyBzZXBhcmFkb3IgZGUgbWlsZXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBtb2NrRm9ybWF0Q3VycmVuY3koMTAwMDAwMCk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b01hdGNoKC8xXFwuMDAwXFwuMDAwLyk7XG4gICAgfSk7XG4gICAgXG4gICAgdGVzdCgnRGViZSB1c2FyIGNvbWEgY29tbyBzZXBhcmFkb3IgZGVjaW1hbCcsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IG1vY2tGb3JtYXRDdXJyZW5jeSgxMDAwLjUwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvTWF0Y2goLzFcXC4wMDAsNTAvKTtcbiAgICB9KTtcbiAgICBcbiAgICB0ZXN0KCdEZWJlIGluY2x1aXIgc8OtbWJvbG8gZGUgcGVzbyAoJCknLCAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBtb2NrRm9ybWF0Q3VycmVuY3koMTAwMCk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b01hdGNoKC9eXFwkLyk7XG4gICAgfSk7XG4gICAgXG4gICAgdGVzdCgnRGViZSBtYW50ZW5lciBmb3JtYXRvIGNvbnNpc3RlbnRlIHBhcmEgZGlmZXJlbnRlcyByYW5nb3MnLCAoKSA9PiB7XG4gICAgICBjb25zdCB0ZXN0Q2FzZXMgPSBbXG4gICAgICAgIDEwMDAuNTAsXG4gICAgICAgIDEwMDAwLjUwLFxuICAgICAgICAxMDAwMDAuNTAsXG4gICAgICAgIDEwMDAwMDAuNTBcbiAgICAgIF07XG4gICAgICBcbiAgICAgIHRlc3RDYXNlcy5mb3JFYWNoKGlucHV0ID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbW9ja0Zvcm1hdEN1cnJlbmN5KGlucHV0KTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9NYXRjaCgvXlxcJFtcXGRcXC5dKyw1MCQvKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgXG4gIGRlc2NyaWJlKCdDYXNvcyBkZSBVc28gRXNwZWPDrWZpY29zIGRlIGxhIEFwbGljYWNpw7NuJywgKCkgPT4ge1xuICAgIFxuICAgIHRlc3QoJ0RlYmUgZm9ybWF0ZWFyIGNvcnJlY3RhbWVudGUgcmVzdWx0YWRvcyBkZSBkZXNjdWVudG9zJywgKCkgPT4ge1xuICAgICAgLy8gVmFsb3JlcyB0w61waWNvcyBxdWUgc2UgZ2VuZXJhbiBlbiBsYSBhcGxpY2FjacOzblxuICAgICAgY29uc3QgdGVzdENhc2VzID0gW1xuICAgICAgICB7IGlucHV0OiAxMTkwLCBleHBlY3RlZDogL15cXCQxXFwuMTkwLDAwJC8gfSwgICAgICAvLyAxMDAwICsgMTklIElWQVxuICAgICAgICB7IGlucHV0OiAyMzgwLCBleHBlY3RlZDogL15cXCQyXFwuMzgwLDAwJC8gfSwgICAgICAvLyAyMDAwICsgMTklIElWQVxuICAgICAgICB7IGlucHV0OiAxMTkwLjU5NSwgZXhwZWN0ZWQ6IC9eXFwkMVxcLjE5MCw2MCQvIH0sICAvLyAxMDAwLjUwICsgMTklIElWQVxuICAgICAgICB7IGlucHV0OiA1OTUwLCBleHBlY3RlZDogL15cXCQ1XFwuOTUwLDAwJC8gfSAgICAgICAvLyBEZXNjdWVudG8gdG90YWwgZWplbXBsb1xuICAgICAgXTtcbiAgICAgIFxuICAgICAgdGVzdENhc2VzLmZvckVhY2goKHsgaW5wdXQsIGV4cGVjdGVkIH0pID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbW9ja0Zvcm1hdEN1cnJlbmN5KGlucHV0KTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9NYXRjaChleHBlY3RlZCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBcbiAgICB0ZXN0KCdEZWJlIGZvcm1hdGVhciB2YWxvcmVzIGRlIGZhY3R1cmEgdMOtcGljb3MnLCAoKSA9PiB7XG4gICAgICBjb25zdCB0ZXN0Q2FzZXMgPSBbXG4gICAgICAgIHsgaW5wdXQ6IDUwMDAwLCBleHBlY3RlZDogL15cXCQ1MFxcLjAwMCwwMCQvIH0sXG4gICAgICAgIHsgaW5wdXQ6IDEwMDAwMCwgZXhwZWN0ZWQ6IC9eXFwkMTAwXFwuMDAwLDAwJC8gfSxcbiAgICAgICAgeyBpbnB1dDogNTAwMDAwLCBleHBlY3RlZDogL15cXCQ1MDBcXC4wMDAsMDAkLyB9LFxuICAgICAgICB7IGlucHV0OiAxMDAwMDAwLCBleHBlY3RlZDogL15cXCQxXFwuMDAwXFwuMDAwLDAwJC8gfVxuICAgICAgXTtcbiAgICAgIFxuICAgICAgdGVzdENhc2VzLmZvckVhY2goKHsgaW5wdXQsIGV4cGVjdGVkIH0pID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbW9ja0Zvcm1hdEN1cnJlbmN5KGlucHV0KTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9NYXRjaChleHBlY3RlZCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBcbiAgICB0ZXN0KCdEZWJlIGZvcm1hdGVhciB2YWxvcmVzIGRlIHByb2R1Y3RvcyB0w61waWNvcycsICgpID0+IHtcbiAgICAgIGNvbnN0IHRlc3RDYXNlcyA9IFtcbiAgICAgICAgeyBpbnB1dDogMTAwMCwgZXhwZWN0ZWQ6IC9eXFwkMVxcLjAwMCwwMCQvIH0sXG4gICAgICAgIHsgaW5wdXQ6IDI1MDAuNTAsIGV4cGVjdGVkOiAvXlxcJDJcXC41MDAsNTAkLyB9LFxuICAgICAgICB7IGlucHV0OiA1MDAwLCBleHBlY3RlZDogL15cXCQ1XFwuMDAwLDAwJC8gfSxcbiAgICAgICAgeyBpbnB1dDogMTAwMDAuMjUsIGV4cGVjdGVkOiAvXlxcJDEwXFwuMDAwLDI1JC8gfVxuICAgICAgXTtcbiAgICAgIFxuICAgICAgdGVzdENhc2VzLmZvckVhY2goKHsgaW5wdXQsIGV4cGVjdGVkIH0pID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbW9ja0Zvcm1hdEN1cnJlbmN5KGlucHV0KTtcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkudG9NYXRjaChleHBlY3RlZCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIFxuICBkZXNjcmliZSgnVmFsaWRhY2nDs24gZGUgQ29uZmlndXJhY2nDs24nLCAoKSA9PiB7XG4gICAgXG4gICAgdGVzdCgnRGViZSB1c2FyIGNvbmZpZ3VyYWNpw7NuIGNvcnJlY3RhIHBhcmEgZXMtQ0wnLCAoKSA9PiB7XG4gICAgICBjb25zdCBmb3JtYXR0ZXIgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQoJ2VzLUNMJywge1xuICAgICAgICBzdHlsZTogJ2N1cnJlbmN5JyxcbiAgICAgICAgY3VycmVuY3k6ICdDTFAnLFxuICAgICAgICBtaW5pbXVtRnJhY3Rpb25EaWdpdHM6IDIsXG4gICAgICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMlxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSBmb3JtYXR0ZXIucmVzb2x2ZWRPcHRpb25zKCk7XG4gICAgICBleHBlY3Qob3B0aW9ucy5sb2NhbGUpLnRvQmUoJ2VzLUNMJyk7XG4gICAgICBleHBlY3Qob3B0aW9ucy5jdXJyZW5jeSkudG9CZSgnQ0xQJyk7XG4gICAgICBleHBlY3Qob3B0aW9ucy5taW5pbXVtRnJhY3Rpb25EaWdpdHMpLnRvQmUoMik7XG4gICAgICBleHBlY3Qob3B0aW9ucy5tYXhpbXVtRnJhY3Rpb25EaWdpdHMpLnRvQmUoMik7XG4gICAgfSk7XG4gICAgXG4gICAgdGVzdCgnRGViZSBwcm9kdWNpciByZXN1bHRhZG8gY29uc2lzdGVudGUnLCAoKSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IDEwMDAuNTA7XG4gICAgICBjb25zdCByZXN1bHQxID0gbW9ja0Zvcm1hdEN1cnJlbmN5KHZhbHVlKTtcbiAgICAgIGNvbnN0IHJlc3VsdDIgPSBtb2NrRm9ybWF0Q3VycmVuY3kodmFsdWUpO1xuICAgICAgXG4gICAgICBleHBlY3QocmVzdWx0MSkudG9CZShyZXN1bHQyKTtcbiAgICB9KTtcbiAgfSk7XG4gIFxuICBkZXNjcmliZSgnUGVyZm9ybWFuY2UgeSBSb2J1c3RleicsICgpID0+IHtcbiAgICBcbiAgICB0ZXN0KCdEZWJlIG1hbmVqYXIgbcO6bHRpcGxlcyBsbGFtYWRhcyBzaW4gcHJvYmxlbWFzJywgKCkgPT4ge1xuICAgICAgY29uc3QgdmFsdWVzID0gWzEwMDAsIDIwMDAsIDMwMDAsIDQwMDAsIDUwMDBdO1xuICAgICAgXG4gICAgICBjb25zdCByZXN1bHRzID0gdmFsdWVzLm1hcCh2YWx1ZSA9PiBtb2NrRm9ybWF0Q3VycmVuY3kodmFsdWUpKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlc3VsdHMpLnRvSGF2ZUxlbmd0aCg1KTtcbiAgICAgIHJlc3VsdHMuZm9yRWFjaChyZXN1bHQgPT4ge1xuICAgICAgICBleHBlY3QodHlwZW9mIHJlc3VsdCkudG9CZSgnc3RyaW5nJyk7XG4gICAgICAgIGV4cGVjdChyZXN1bHQpLnRvTWF0Y2goL15cXCQvKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIFxuICAgIHRlc3QoJ0RlYmUgbWFuZWphciB2YWxvcmVzIGV4dHJlbW9zIHNpbiBlcnJvcmVzJywgKCkgPT4ge1xuICAgICAgY29uc3QgZXh0cmVtZVZhbHVlcyA9IFswLjAxLCA5OTk5OTk5OTkuOTksIDAsIC0xMDAwXTtcbiAgICAgIFxuICAgICAgZXh0cmVtZVZhbHVlcy5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICAgICAgZXhwZWN0KCgpID0+IG1vY2tGb3JtYXRDdXJyZW5jeSh2YWx1ZSkpLm5vdC50b1Rocm93KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoJ0ludGVncmFjacOzbiBjb24gQ8OhbGN1bG9zJywgKCkgPT4ge1xuICBcbiAgdGVzdCgnRGViZSBmb3JtYXRlYXIgY29ycmVjdGFtZW50ZSByZXN1bHRhZG9zIGRlIGPDoWxjdWxvcyBjb24gSVZBJywgKCkgPT4ge1xuICAgIGNvbnN0IElWQV9SQVRFID0gMC4xOTtcbiAgICBjb25zdCBwcm9kdWN0ID0geyB2YWx1ZTogMTAwMCwgaXNIYWxmOiBmYWxzZSB9O1xuICAgIFxuICAgIGNvbnN0IGJhc2VWYWx1ZSA9IHByb2R1Y3QuaXNIYWxmID8gcHJvZHVjdC52YWx1ZSAvIDIgOiBwcm9kdWN0LnZhbHVlO1xuICAgIGNvbnN0IHZhbHVlV2l0aEl2YSA9IGJhc2VWYWx1ZSAqICgxICsgSVZBX1JBVEUpO1xuICAgIGNvbnN0IGZvcm1hdHRlZCA9IG1vY2tGb3JtYXRDdXJyZW5jeSh2YWx1ZVdpdGhJdmEpO1xuICAgIFxuICAgIGV4cGVjdChmb3JtYXR0ZWQpLnRvTWF0Y2goL15cXCQxXFwuMTkwLDAwJC8pO1xuICB9KTtcbiAgXG4gIHRlc3QoJ0RlYmUgZm9ybWF0ZWFyIGNvcnJlY3RhbWVudGUgbnVldm9zIHRvdGFsZXMgZGUgZmFjdHVyYScsICgpID0+IHtcbiAgICBjb25zdCBvcmlnaW5hbFRvdGFsID0gMTAwMDAwO1xuICAgIGNvbnN0IGRpc2NvdW50ID0gNTk1MDtcbiAgICBjb25zdCBuZXdUb3RhbCA9IG9yaWdpbmFsVG90YWwgLSBkaXNjb3VudDtcbiAgICBjb25zdCBmb3JtYXR0ZWQgPSBtb2NrRm9ybWF0Q3VycmVuY3kobmV3VG90YWwpO1xuICAgIFxuICAgIGV4cGVjdChmb3JtYXR0ZWQpLnRvTWF0Y2goL15cXCQ5NFxcLjA1MCwwMCQvKTtcbiAgfSk7XG59KTsiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUFBLFFBQVEsQ0FBQyxrQ0FBa0MsRUFBRSxNQUFNO0VBRWpEO0VBQ0EsTUFBTUMsa0JBQWtCLEdBQUlDLE1BQU0sSUFBSztJQUNyQyxPQUFPLElBQUlDLElBQUksQ0FBQ0MsWUFBWSxDQUFDLE9BQU8sRUFBRTtNQUNwQ0MsS0FBSyxFQUFFLFVBQVU7TUFDakJDLFFBQVEsRUFBRSxLQUFLO01BQ2ZDLHFCQUFxQixFQUFFLENBQUM7TUFDeEJDLHFCQUFxQixFQUFFO0lBQ3pCLENBQUMsQ0FBQyxDQUFDQyxNQUFNLENBQUNQLE1BQU0sQ0FBQztFQUNuQixDQUFDO0VBRURGLFFBQVEsQ0FBQyxpQkFBaUIsRUFBRSxNQUFNO0lBRWhDVSxJQUFJLENBQUMsOENBQThDLEVBQUUsTUFBTTtNQUN6RCxNQUFNQyxTQUFTLEdBQUcsQ0FDaEI7UUFBRUMsS0FBSyxFQUFFLElBQUk7UUFBRUMsUUFBUSxFQUFFO01BQWdCLENBQUMsRUFDMUM7UUFBRUQsS0FBSyxFQUFFLEtBQUs7UUFBRUMsUUFBUSxFQUFFO01BQWlCLENBQUMsRUFDNUM7UUFBRUQsS0FBSyxFQUFFLE1BQU07UUFBRUMsUUFBUSxFQUFFO01BQWtCLENBQUMsRUFDOUM7UUFBRUQsS0FBSyxFQUFFLE9BQU87UUFBRUMsUUFBUSxFQUFFO01BQXFCLENBQUMsQ0FDbkQ7TUFFREYsU0FBUyxDQUFDRyxPQUFPLENBQUMsQ0FB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
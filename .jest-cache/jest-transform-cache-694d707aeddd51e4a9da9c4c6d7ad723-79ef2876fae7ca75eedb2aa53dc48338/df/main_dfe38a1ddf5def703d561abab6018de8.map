{"version":3,"names":["productsToDiscount","safeGetElement","id","document","getElementById","invoiceTotalInput","productValueInput","isHalfCheckbox","addProductBtn","calculateBtn","productsList","resultsCard","clearAllBtn","formatCurrency","amount","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","errorAlertElement","errorMessageElement","showError","message","textContent","display","hideError","renderProductsList","firstChild","removeChild","length","emptyState","createElement","className","appendChild","forEach","product","idx","div","productInfo","p","strong","baseValue","isHalf","value","createTextNode","small","button","dataset","title","icon","querySelectorAll","btn","addEventListener","e","parseInt","getAttribute","isNaN","splice","parseFloat","checked","toString","split","push","focus","originalInvoiceTotal","totalDiscountAmount","IVA_RATE","baseValueToDiscount","valueWithIva","newInvoiceTotal","resultOriginal","resultDiscount","resultTotal","module","exports"],"sources":["main.js"],"sourcesContent":["\n// =========================\n// VARIABLES Y ELEMENTOS DEL DOM\n// =========================\n// Array para almacenar los productos a descontar\n// Cada producto es un objeto: { value: número, isHalf: booleano }\nconst productsToDiscount = [];\n\n// Helper function to safely get DOM elements\nconst safeGetElement = (id) => {\n  if (typeof document !== 'undefined' && document.getElementById) {\n    return document.getElementById(id);\n  }\n  return null;\n};\n\nconst invoiceTotalInput = safeGetElement('invoice-total');\nconst productValueInput = safeGetElement('product-value');\nconst isHalfCheckbox = safeGetElement('is-half');\nconst addProductBtn = safeGetElement('add-product-btn');\nconst calculateBtn = safeGetElement('calculate-btn');\nconst productsList = safeGetElement('products-list');\nconst resultsCard = safeGetElement('results-card');\nconst clearAllBtn = safeGetElement('clear-all-btn');\n\n// =========================\n// UTILIDAD: Formatear moneda CLP\n// =========================\n// Formatea un número como moneda chilena (pesos) con 2 decimales\n// Ejemplo: 10000.50 -> \"$10.000,50\"\nconst formatCurrency = (amount) => {\n  return new Intl.NumberFormat('es-CL', {\n    style: 'currency',\n    currency: 'CLP',\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2\n  }).format(amount);\n};\n\n// =========================\n// MANEJO DE ERRORES\n// =========================\n// Referencias a elementos DOM para mostrar mensajes de error\nconst errorAlertElement = safeGetElement('error-alert');\nconst errorMessageElement = safeGetElement('error-message');\n\n// Muestra un mensaje de error en la interfaz\n// @param {string} message - Mensaje de error a mostrar\nconst showError = (message) => {\n  if (errorMessageElement) {\n    errorMessageElement.textContent = message;\n  }\n  if (errorAlertElement) {\n    errorAlertElement.style.display = 'block';\n  }\n};\n\n// Oculta el mensaje de error\nconst hideError = () => {\n  if (errorAlertElement) {\n    errorAlertElement.style.display = 'none';\n  }\n};\n\n// =========================\n// RENDERIZAR LISTA DE PRODUCTOS\n// =========================\n// Actualiza la interfaz mostrando la lista de productos agregados\n// Si no hay productos, muestra un estado vacío\nfunction renderProductsList() {\n  // Return early if not in browser environment\n  if (!productsList || typeof document === 'undefined') {\n    return;\n  }\n\n  // Limpiar lista de manera segura\n  while (productsList.firstChild) {\n    productsList.removeChild(productsList.firstChild);\n  }\n\n  if (productsToDiscount.length === 0) {\n    const emptyState = document.createElement('p');\n    emptyState.className = 'empty-state';\n    emptyState.textContent = 'No hay productos agregados';\n    productsList.appendChild(emptyState);\n    if (calculateBtn) calculateBtn.style.display = 'none';\n    if (clearAllBtn) clearAllBtn.style.display = 'none';\n    return;\n  }\n\n  productsToDiscount.forEach((product, idx) => {\n    const div = document.createElement('div');\n    div.className = 'product-item';\n\n    const productInfo = document.createElement('div');\n    productInfo.className = 'product-info';\n\n    const p = document.createElement('p');\n    const strong = document.createElement('strong');\n    // Usar valor float directamente\n    const baseValue = product.isHalf ? product.value / 2 : product.value;\n    strong.textContent = formatCurrency(baseValue);\n\n    p.appendChild(document.createTextNode('Producto con valor base de '));\n    p.appendChild(strong);\n\n    const small = document.createElement('small');\n    small.textContent = `Unidades: ${product.isHalf ? 'Sí' : 'No'}`;\n\n    productInfo.appendChild(p);\n    productInfo.appendChild(small);\n\n    const button = document.createElement('button');\n    button.className = 'btn btn-outline btn-small';\n    button.dataset.idx = idx;\n    button.title = 'Eliminar';\n\n    // Crear ícono de eliminación de manera segura\n    const icon = document.createElement('span');\n    icon.textContent = '✕'; // Uso de entidad segura\n    button.appendChild(icon);\n\n    div.appendChild(productInfo);\n    div.appendChild(button);\n    productsList.appendChild(div);\n  });\n\n  // Mostrar botones cuando hay productos\n  if (calculateBtn) calculateBtn.style.display = 'block';\n  if (clearAllBtn) clearAllBtn.style.display = 'block';\n\n  // Asignar eventos a los botones de eliminar\n  if (productsList.querySelectorAll) {\n    productsList.querySelectorAll('button[data-idx]').forEach(btn => {\n      btn.addEventListener('click', (e) => {\n        const idx = parseInt(btn.getAttribute('data-idx'));\n        if (!isNaN(idx) && idx >= 0 && idx < productsToDiscount.length) {\n          productsToDiscount.splice(idx, 1);\n          renderProductsList();\n          if (resultsCard) resultsCard.style.display = 'none';\n        }\n      });\n    });\n  }\n}\n\n// =========================\n// EVENTO: Agregar producto\n// =========================\n// Maneja el clic en el botón \"Agregar producto\":\n// 1. Valida que el valor ingresado sea válido (>0)\n// 2. Agrega el producto al array productsToDiscount\n// 3. Actualiza la lista de productos\n// 4. Limpia los campos de entrada\nif (addProductBtn) {\n  addProductBtn.addEventListener('click', () => {\n    const value = parseFloat(productValueInput?.value);\n    const isHalf = isHalfCheckbox?.checked;\n\n    // Validación mejorada - valores numéricos y límites\n    if (isNaN(value) || value <= 0 || value > 1000000000) {\n      showError('Por favor, ingrese un valor de producto válido entre 1 y 1.000.000.000.');\n      return;\n    }\n\n    // Validar que el valor no contenga más de 2 decimales\n    if ((value.toString().split('.')[1] || []).length > 2) {\n      showError('Por favor, ingrese un valor con máximo 2 decimales.');\n      return;\n    }\n\n    // Guardamos el producto en nuestro array\n    productsToDiscount.push({ value, isHalf });\n    renderProductsList();\n    // Limpiamos los inputs y ocultamos errores\n    if (productValueInput) productValueInput.value = '';\n    if (isHalfCheckbox) isHalfCheckbox.checked = false;\n    if (productValueInput) productValueInput.focus();\n    hideError();\n  });\n}\n\n// =========================\n// EVENTO: Limpiar todo\n// =========================\n// Resetea toda la aplicación:\n// 1. Vacía la lista de productos\n// 2. Limpia todos los campos de entrada\n// 3. Oculta los resultados\nif (clearAllBtn) {\n  clearAllBtn.addEventListener('click', () => {\n    productsToDiscount.length = 0;\n    renderProductsList();\n    if (resultsCard) resultsCard.style.display = 'none';\n    if (productValueInput) productValueInput.value = '';\n    if (isHalfCheckbox) isHalfCheckbox.checked = false;\n    if (invoiceTotalInput) invoiceTotalInput.value = '';\n  });\n}\n\n// =========================\n// EVENTO: Calcular descuento final\n// =========================\n// Realiza el cálculo completo de descuentos:\n// 1. Valida el monto total de la factura\n// 2. Calcula el descuento para cada producto (considerando IVA)\n// 3. Actualiza la interfaz con los resultados\nif (calculateBtn) {\n  calculateBtn.addEventListener('click', () => {\n    const originalInvoiceTotal = parseFloat(invoiceTotalInput?.value);\n\n    // Validación mejorada para el total de la factura\n    if (isNaN(originalInvoiceTotal) || originalInvoiceTotal <= 0 || originalInvoiceTotal > 10000000000) {\n      showError('Por favor, ingrese un monto de factura válido entre 1 y 10.000.000.000.');\n      return;\n    }\n\n    // Validar decimales\n    if ((originalInvoiceTotal.toString().split('.')[1] || []).length > 2) {\n      showError('El monto de la factura debe tener máximo 2 decimales.');\n      return;\n    }\n\n    if (productsToDiscount.length === 0) {\n      showError('Por favor, añada al menos un producto para descontar.');\n      return;\n    }\n\n    hideError();\n\n    let totalDiscountAmount = 0;\n    const IVA_RATE = 0.19; // Tasa de IVA (19%)\n\n    // Cálculo de descuento manteniendo precisión float\n    productsToDiscount.forEach(product => {\n      // 1. Determinar valor base: completo o mitad (para unidades)\n      const baseValueToDiscount = product.isHalf ? product.value / 2 : product.value;\n\n      // 2. Calcular valor con IVA: base * (1 + IVA_RATE)\n      const valueWithIva = baseValueToDiscount * (1 + IVA_RATE);\n\n      // 3. Acumular al descuento total manteniendo float\n      totalDiscountAmount += valueWithIva;\n    });\n\n    // 4. Calcular el nuevo total con float\n    const newInvoiceTotal = originalInvoiceTotal - totalDiscountAmount;\n\n    // Mostramos los resultados\n    const resultOriginal = safeGetElement('result-original');\n    const resultDiscount = safeGetElement('result-discount');\n    const resultTotal = safeGetElement('result-total');\n\n    if (resultOriginal) resultOriginal.textContent = formatCurrency(originalInvoiceTotal);\n    if (resultDiscount) resultDiscount.textContent = formatCurrency(totalDiscountAmount);\n    if (resultTotal) resultTotal.textContent = formatCurrency(newInvoiceTotal);\n\n    if (resultsCard) resultsCard.style.display = 'block';\n  });\n}\n\n// Export functions for testing\nif (typeof module !== 'undefined' && module.exports) {\n  module.exports = {\n    formatCurrency,\n    showError,\n    hideError,\n    renderProductsList,\n    productsToDiscount,\n    safeGetElement\n  };\n}\n"],"mappings":"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","ignoreList":[]}